{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\PageLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\PageLayout.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWF4emgvT25lRHJpdmUvXHU2ODRDXHU5NzYyL3Z1ZS1hbnRkLWFkbWluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvcGFnZS9oZWFkZXIvUGFnZUhlYWRlcic7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0STE4bktleSB9IGZyb20gJ0AvdXRpbHMvcm91dGVyVXRpbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGFnZUxheW91dCcsCiAgY29tcG9uZW50czogewogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlcgogIH0sCiAgcHJvcHM6IFsnZGVzYycsICdsb2dvJywgJ3RpdGxlJywgJ2F2YXRhcicsICdsaW5rTGlzdCcsICdleHRyYUltYWdlJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2U6IHt9LAogICAgICBwYWdlSGVhZGVySGVpZ2h0OiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKCkgewogICAgICB0aGlzLnBhZ2UgPSB0aGlzLiRyb3V0ZS5tZXRhLnBhZ2U7CiAgICB9CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkgewogICAgaWYgKCF0aGlzLl9pbmFjdGl2ZSkgewogICAgICB0aGlzLnVwZGF0ZVBhZ2VIZWlnaHQoKTsKICAgIH0KICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgdGhpcy51cGRhdGVQYWdlSGVpZ2h0KCk7CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZVBhZ2VIZWlnaHQoMCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVQYWdlSGVpZ2h0KCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wYWdlID0gdGhpcy4kcm91dGUubWV0YS5wYWdlOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudXBkYXRlUGFnZUhlaWdodCgwKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdzZXR0aW5nJywgWydsYXlvdXQnLCAnbXVsdGlQYWdlJywgJ3BhZ2VNaW5IZWlnaHQnLCAncGFnZVdpZHRoJywgJ2N1c3RvbVRpdGxlcyddKSksIHt9LCB7CiAgICBwYWdlVGl0bGU6IGZ1bmN0aW9uIHBhZ2VUaXRsZSgpIHsKICAgICAgdmFyIHBhZ2VUaXRsZSA9IHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudGl0bGU7CiAgICAgIHJldHVybiB0aGlzLmN1c3RvbVRpdGxlIHx8IHBhZ2VUaXRsZSAmJiB0aGlzLiR0KHBhZ2VUaXRsZSkgfHwgdGhpcy50aXRsZSB8fCB0aGlzLnJvdXRlTmFtZTsKICAgIH0sCiAgICByb3V0ZU5hbWU6IGZ1bmN0aW9uIHJvdXRlTmFtZSgpIHsKICAgICAgdmFyIHJvdXRlID0gdGhpcy4kcm91dGU7CiAgICAgIHJldHVybiB0aGlzLiR0KGdldEkxOG5LZXkocm91dGUubWF0Y2hlZFtyb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDFdLnBhdGgpKTsKICAgIH0sCiAgICBicmVhZGNydW1iOiBmdW5jdGlvbiBicmVhZGNydW1iKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2U7CiAgICAgIHZhciBicmVhZGNydW1iID0gcGFnZSAmJiBwYWdlLmJyZWFkY3J1bWI7CgogICAgICBpZiAoYnJlYWRjcnVtYikgewogICAgICAgIHZhciBpMThuQnJlYWRjcnVtYiA9IFtdOwogICAgICAgIGJyZWFkY3J1bWIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaTE4bkJyZWFkY3J1bWIucHVzaChfdGhpcy4kdChpdGVtKSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGkxOG5CcmVhZGNydW1iOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmdldFJvdXRlQnJlYWRjcnVtYigpOwogICAgICB9CiAgICB9LAogICAgbWFyZ2luQ29ycmVjdDogZnVuY3Rpb24gbWFyZ2luQ29ycmVjdCgpIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlQYWdlID8gMjQgOiAwOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCdzZXR0aW5nJywgWydjb3JyZWN0UGFnZU1pbkhlaWdodCddKSksIHt9LCB7CiAgICBnZXRSb3V0ZUJyZWFkY3J1bWI6IGZ1bmN0aW9uIGdldFJvdXRlQnJlYWRjcnVtYigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcm91dGVzID0gdGhpcy4kcm91dGUubWF0Y2hlZDsKICAgICAgdmFyIHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICB2YXIgYnJlYWRjcnVtYiA9IFtdOwogICAgICByb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHBhdGguaW5jbHVkZXMoaXRlbS5wYXRoKTsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICB2YXIgcGF0aCA9IHJvdXRlLnBhdGgubGVuZ3RoID09PSAwID8gJy9ob21lJyA6IHJvdXRlLnBhdGg7CiAgICAgICAgYnJlYWRjcnVtYi5wdXNoKF90aGlzMi4kdChnZXRJMThuS2V5KHBhdGgpKSk7CiAgICAgIH0pOwogICAgICB2YXIgcGFnZVRpdGxlID0gdGhpcy5wYWdlICYmIHRoaXMucGFnZS50aXRsZTsKCiAgICAgIGlmICh0aGlzLmN1c3RvbVRpdGxlIHx8IHBhZ2VUaXRsZSkgewogICAgICAgIGJyZWFkY3J1bWJbYnJlYWRjcnVtYi5sZW5ndGggLSAxXSA9IHRoaXMuY3VzdG9tVGl0bGUgfHwgcGFnZVRpdGxlOwogICAgICB9CgogICAgICByZXR1cm4gYnJlYWRjcnVtYjsKICAgIH0sCgogICAgLyoqCiAgICAgKiDnlKjkuo7orqHnrpfpobXpnaLlhoXlrrnmnIDlsI/pq5jluqYKICAgICAqIEBwYXJhbSBuZXdIZWlnaHQKICAgICAqLwogICAgdXBkYXRlUGFnZUhlaWdodDogZnVuY3Rpb24gdXBkYXRlUGFnZUhlaWdodCgpIHsKICAgICAgdmFyIG5ld0hlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy4kcmVmcy5wYWdlSGVhZGVyLiRlbC5vZmZzZXRIZWlnaHQgKyB0aGlzLm1hcmdpbkNvcnJlY3Q7CiAgICAgIHRoaXMuY29ycmVjdFBhZ2VNaW5IZWlnaHQodGhpcy5wYWdlSGVhZGVySGVpZ2h0IC0gbmV3SGVpZ2h0KTsKICAgICAgdGhpcy5wYWdlSGVhZGVySGVpZ2h0ID0gbmV3SGVpZ2h0OwogICAgfQogIH0pCn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AAEA;AACAA,oBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,sEAHA;AAIAC,MAJA,kBAIA;AACA;AACAC,cADA;AAEAC;AAFA;AAIA,GATA;AAUAC;AACAC,UADA,oBACA;AACA;AACA;AAHA,GAVA;AAeAC,SAfA,qBAeA;AACA;AACA;AACA;AACA,GAnBA;AAoBAC,WApBA,uBAoBA;AACA;AACA,GAtBA;AAuBAC,aAvBA,yBAuBA;AACA;AACA,GAzBA;AA0BAC,SA1BA,qBA0BA;AACA;AACA,GA5BA;AA6BAC,SA7BA,qBA6BA;AACA;AACA,GA/BA;AAgCAC,eAhCA,2BAgCA;AACA;AACA,GAlCA;AAmCAC,4CACAC,0FADA;AAEAC,aAFA,uBAEA;AACA;AACA;AACA,KALA;AAMAC,aANA,uBAMA;AACA;AACA;AACA,KATA;AAUAC,cAVA,wBAUA;AAAA;;AACA;AACA;;AACA;AACA;AACAA;AACAC;AACA,SAFA;AAGA;AACA,OANA,MAMA;AACA;AACA;AACA,KAtBA;AAuBAC,iBAvBA,2BAuBA;AACA;AACA;AAzBA,IAnCA;AA8DAC,2CACAC,iDADA;AAEAC,sBAFA,gCAEA;AAAA;;AACA;AACA;AACA;AACAC;AAAA;AAAA,SACAC,OADA,CACA;AACA;AACAP;AACA,OAJA;AAKA;;AACA;AACAA;AACA;;AACA;AACA,KAhBA;;AAiBA;AACA;AACA;AACA;AACAQ,oBArBA,8BAqBA;AAAA;AACA;AACA;AACA;AAxBA;AA9DA","names":["name","components","PageHeader","props","data","page","pageHeaderHeight","watch","$route","updated","activated","deactivated","mounted","created","beforeDestroy","computed","mapState","pageTitle","routeName","breadcrumb","i18nBreadcrumb","marginCorrect","methods","mapMutations","getRouteBreadcrumb","routes","forEach","updatePageHeight"],"sourceRoot":"src/layouts","sources":["PageLayout.vue"],"sourcesContent":["<template>\n  <div class=\"page-layout\">\n    <page-header ref=\"pageHeader\" :style=\"`margin-top: ${multiPage ? 0 : -24}px`\" :breadcrumb=\"breadcrumb\" :title=\"pageTitle\" :logo=\"logo\" :avatar=\"avatar\">\n      <slot name=\"action\"  slot=\"action\"></slot>\n      <slot slot=\"content\" name=\"headerContent\"></slot>\n      <div slot=\"content\" v-if=\"!this.$slots.headerContent && desc\">\n        <p>{{desc}}</p>\n        <div v-if=\"this.linkList\" class=\"link\">\n          <template  v-for=\"(link, index) in linkList\">\n            <a :key=\"index\" :href=\"link.href\"><a-icon :type=\"link.icon\" />{{link.title}}</a>\n          </template>\n        </div>\n      </div>\n      <slot v-if=\"this.$slots.extra\" slot=\"extra\" name=\"extra\"></slot>\n    </page-header>\n    <div ref=\"page\" :class=\"['page-content', layout, pageWidth]\" >\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageHeader from '@/components/page/header/PageHeader'\nimport {mapState, mapMutations} from 'vuex'\nimport {getI18nKey} from '@/utils/routerUtil'\n\nexport default {\n  name: 'PageLayout',\n  components: {PageHeader},\n  props: ['desc', 'logo', 'title', 'avatar', 'linkList', 'extraImage'],\n  data () {\n    return {\n      page: {},\n      pageHeaderHeight: 0,\n    }\n  },\n  watch: {\n    $route() {\n      this.page = this.$route.meta.page\n    }\n  },\n  updated() {\n    if (!this._inactive) {\n      this.updatePageHeight()\n    }\n  },\n  activated() {\n    this.updatePageHeight()\n  },\n  deactivated() {\n    this.updatePageHeight(0)\n  },\n  mounted() {\n    this.updatePageHeight()\n  },\n  created() {\n    this.page = this.$route.meta.page\n  },\n  beforeDestroy() {\n    this.updatePageHeight(0)\n  },\n  computed: {\n    ...mapState('setting', ['layout', 'multiPage', 'pageMinHeight', 'pageWidth', 'customTitles']),\n    pageTitle() {\n      let pageTitle = this.page && this.page.title\n      return this.customTitle || (pageTitle && this.$t(pageTitle)) || this.title || this.routeName\n    },\n    routeName() {\n      const route = this.$route\n      return this.$t(getI18nKey(route.matched[route.matched.length - 1].path))\n    },\n    breadcrumb() {\n      let page = this.page\n      let breadcrumb = page && page.breadcrumb\n      if (breadcrumb) {\n        let i18nBreadcrumb = []\n        breadcrumb.forEach(item => {\n          i18nBreadcrumb.push(this.$t(item))\n        })\n        return i18nBreadcrumb\n      } else {\n        return this.getRouteBreadcrumb()\n      }\n    },\n    marginCorrect() {\n      return this.multiPage ? 24 : 0\n    }\n  },\n  methods: {\n    ...mapMutations('setting', ['correctPageMinHeight']),\n    getRouteBreadcrumb() {\n      let routes = this.$route.matched\n      const path = this.$route.path\n      let breadcrumb = []\n      routes.filter(item => path.includes(item.path))\n        .forEach(route => {\n        const path = route.path.length === 0 ? '/home' : route.path\n        breadcrumb.push(this.$t(getI18nKey(path)))\n      })\n      let pageTitle = this.page && this.page.title\n      if (this.customTitle || pageTitle) {\n        breadcrumb[breadcrumb.length - 1] = this.customTitle || pageTitle\n      }\n      return breadcrumb\n    },\n    /**\n     * 用于计算页面内容最小高度\n     * @param newHeight\n     */\n    updatePageHeight(newHeight = this.$refs.pageHeader.$el.offsetHeight + this.marginCorrect) {\n      this.correctPageMinHeight(this.pageHeaderHeight - newHeight)\n      this.pageHeaderHeight = newHeight\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  .page-header{\n    margin: 0 -24px 0;\n  }\n  .link{\n    /*margin-top: 16px;*/\n    line-height: 24px;\n    a{\n      font-size: 14px;\n      margin-right: 32px;\n      i{\n        font-size: 22px;\n        margin-right: 8px;\n      }\n    }\n  }\n  .page-content{\n    position: relative;\n    padding: 24px 0 0;\n    &.side{\n    }\n    &.head.fixed{\n      margin: 0 auto;\n      max-width: 1400px;\n    }\n  }\n</style>\n"]}]}