{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\tool\\TagSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\tool\\TagSelect.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVGFnU2VsZWN0T3B0aW9uIGZyb20gJy4vVGFnU2VsZWN0T3B0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUYWdTZWxlY3QnLAogIE9wdGlvbjogVGFnU2VsZWN0T3B0aW9uLAogIGNvbXBvbmVudHM6IHsKICAgIFRhZ1NlbGVjdE9wdGlvbjogVGFnU2VsZWN0T3B0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RyaWdnZXI6IGZhbHNlLAogICAgICBjb2xsYXBzZWQ6IHRydWUsCiAgICAgIHNjcmVlbldpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLAogICAgICBjaGVja0FsbDogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2NyZWVuV2lkdGg6IGZ1bmN0aW9uIHNjcmVlbldpZHRoKCkgewogICAgICB0aGlzLnNob3dUcmlnZ2VyID0gdGhpcy5uZWVkVHJpZ2dlcigpOwogICAgfSwKICAgIGNvbGxhcHNlZDogZnVuY3Rpb24gY29sbGFwc2VkKHZhbCkgewogICAgICB0aGlzLiRlbC5zdHlsZS5tYXhIZWlnaHQgPSB2YWwgPyAnMzlweCcgOiAnNzhweCc7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsgLy8g5q2k5aSE5bu26L+f5omn6KGM77yM5piv5Li66Kej5YazbW91dGVk5pyq5a6M5YWo5a6M5oiQ5oOF5Ya15LiL5byV5Y+R55qEdHJpZ2dlcuaYvuekumJ1ZwoKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2hvd1RyaWdnZXIgPSBfdGhpcy5uZWVkVHJpZ2dlcigpOwogICAgICBfdGhpcy4kcmVmcy50cmlnZ2VyLnN0eWxlLmRpc3BsYXkgPSBfdGhpcy5zaG93VHJpZ2dlciA/ICdpbmxpbmUnIDogJ25vbmUnOwogICAgfSwgMSk7CgogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgX3RoaXMuc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuV2lkdGg7CiAgICAgIH0oKTsKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBuZWVkVHJpZ2dlcjogZnVuY3Rpb24gbmVlZFRyaWdnZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRlbC5jbGllbnRIZWlnaHQgPCB0aGlzLiRlbC5zY3JvbGxIZWlnaHQgfHwgdGhpcy4kZWwuc2Nyb2xsSGVpZ2h0ID4gMzk7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIHRoaXMuY29sbGFwc2VkID0gIXRoaXMuY29sbGFwc2VkOwogICAgfSwKICAgIGdldEFsbFRhZ3M6IGZ1bmN0aW9uIGdldEFsbFRhZ3MoKSB7CiAgICAgIHZhciB0YWdMaXN0ID0gdGhpcy4kY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaXNUYWdTZWxlY3RPcHRpb247CiAgICAgIH0pOwogICAgICByZXR1cm4gdGFnTGlzdDsKICAgIH0sCiAgICB0b2dnbGVDaGVjazogZnVuY3Rpb24gdG9nZ2xlQ2hlY2soKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5jaGVja0FsbCA9ICF0aGlzLmNoZWNrQWxsOwogICAgICB2YXIgdGFnTGlzdCA9IHRoaXMuZ2V0QWxsVGFncygpOwogICAgICB0YWdMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmNoZWNrZWQgPSBfdGhpczIuY2hlY2tBbGw7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;AASA;AACA;AACAA,mBADA;AAEAC,yBAFA;AAGAC;AAAAC;AAAA,GAHA;AAIAC,MAJA,kBAIA;AACA;AACAC,wBADA;AAEAC,qBAFA;AAGAC,4CAHA;AAIAC;AAJA;AAMA,GAXA;AAYAC;AACAF;AACA;AACA,KAHA;AAIAD;AACA;AACA;AANA,GAZA;AAoBAI,SApBA,qBAoBA;AACA,qBADA,CAEA;;;AACAC;AACAC;AACAA;AACA,KAHA,EAGA,CAHA;;AAIAC;AACA;AACAA;AACAD;AACA,OAHA;AAIA,KALA;AAMA,GAjCA;AAkCAE;AACAC,eADA,yBACA;AACA;AACA,KAHA;AAIAC,UAJA,oBAIA;AACA;AACA,KANA;AAOAC,cAPA,wBAOA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAZA;AAaAC,eAbA,yBAaA;AAAA;;AACA;AACA;AACAC;AACAC;AACA,OAFA;AAGA;AAnBA;AAlCA","names":["name","Option","components","TagSelectOption","data","showTrigger","collapsed","screenWidth","checkAll","watch","mounted","setTimeout","_this","window","methods","needTrigger","toggle","getAllTags","toggleCheck","tagList","item"],"sourceRoot":"src/components/tool","sources":["TagSelect.vue"],"sourcesContent":["<template>\n  <div class=\"tag-select\">\n    <tag-select-option @click=\"toggleCheck\">全部</tag-select-option>\n    <slot></slot>\n    <a @click=\"toggle\" v-show=\"showTrigger\" ref=\"trigger\" class=\"trigger\">展开<a-icon style=\"margin-left: 5px\" :type=\"collapsed ? 'down' : 'up'\"/></a>\n  </div>\n</template>\n\n<script>\nimport TagSelectOption from './TagSelectOption'\nexport default {\n  name: 'TagSelect',\n  Option: TagSelectOption,\n  components: {TagSelectOption},\n  data () {\n    return {\n      showTrigger: false,\n      collapsed: true,\n      screenWidth: document.body.clientWidth,\n      checkAll: false\n    }\n  },\n  watch: {\n    screenWidth: function () {\n      this.showTrigger = this.needTrigger()\n    },\n    collapsed: function (val) {\n      this.$el.style.maxHeight = val ? '39px' : '78px'\n    }\n  },\n  mounted () {\n    let _this = this\n    // 此处延迟执行，是为解决mouted未完全完成情况下引发的trigger显示bug\n    setTimeout(() => {\n      _this.showTrigger = _this.needTrigger()\n      _this.$refs.trigger.style.display = _this.showTrigger ? 'inline' : 'none'\n    }, 1)\n    window.onresize = () => {\n      return (() => {\n        window.screenWidth = document.body.clientWidth\n        _this.screenWidth = window.screenWidth\n      })()\n    }\n  },\n  methods: {\n    needTrigger () {\n      return this.$el.clientHeight < this.$el.scrollHeight || this.$el.scrollHeight > 39\n    },\n    toggle () {\n      this.collapsed = !this.collapsed\n    },\n    getAllTags () {\n      const tagList = this.$children.filter((item) => {\n        return item.isTagSelectOption\n      })\n      return tagList\n    },\n    toggleCheck () {\n      this.checkAll = !this.checkAll\n      const tagList = this.getAllTags()\n      tagList.forEach((item) => {\n        item.checked = this.checkAll\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .tag-select{\n    user-select: none;\n    position: relative;\n    overflow: hidden;\n    max-height: 39px;\n    padding-right: 50px;\n    display: inline-block;\n  }\n  .trigger{\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n</style>\n"]}]}