{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\utils\\axios-interceptors.js","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\utils\\axios-interceptors.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJzsgLy8gNDAx5oum5oiqCgp2YXIgcmVzcDQwMSA9IHsKICAvKioKICAgKiDlk43lupTmlbDmja7kuYvliY3lgZrngrnku4DkuYgKICAgKiBAcGFyYW0gcmVzcG9uc2Ug5ZON5bqU5a+56LGhCiAgICogQHBhcmFtIG9wdGlvbnMg5bqU55So6YWN572uIOWMheWQqzoge3JvdXRlciwgaTE4biwgc3RvcmUsIG1lc3NhZ2V9CiAgICogQHJldHVybnMgeyp9CiAgICovCiAgb25GdWxmaWxsZWQ6IGZ1bmN0aW9uIG9uRnVsZmlsbGVkKHJlc3BvbnNlLCBvcHRpb25zKSB7CiAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTsKCiAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gNDAxKSB7CiAgICAgIG1lc3NhZ2UuZXJyb3IoJ+aXoOatpOadg+mZkCcpOwogICAgfQoKICAgIHJldHVybiByZXNwb25zZTsKICB9LAoKICAvKioKICAgKiDlk43lupTlh7rplJnml7bmiafooYwKICAgKiBAcGFyYW0gZXJyb3Ig6ZSZ6K+v5a+56LGhCiAgICogQHBhcmFtIG9wdGlvbnMg5bqU55So6YWN572uIOWMheWQqzoge3JvdXRlciwgaTE4biwgc3RvcmUsIG1lc3NhZ2V9CiAgICogQHJldHVybnMge1Byb21pc2U8bmV2ZXI+fQogICAqLwogIG9uUmVqZWN0ZWQ6IGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyb3IsIG9wdGlvbnMpIHsKICAgIHZhciBtZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlOwogICAgdmFyIHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7CgogICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgIG1lc3NhZ2UuZXJyb3IoJ+aXoOatpOadg+mZkCcpOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfQp9Owp2YXIgcmVzcDQwMyA9IHsKICBvbkZ1bGZpbGxlZDogZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzcG9uc2UsIG9wdGlvbnMpIHsKICAgIHZhciBtZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlOwoKICAgIGlmIChyZXNwb25zZS5jb2RlID09PSA0MDMpIHsKICAgICAgbWVzc2FnZS5lcnJvcign6K+35rGC6KKr5ouS57udJyk7CiAgICB9CgogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0sCiAgb25SZWplY3RlZDogZnVuY3Rpb24gb25SZWplY3RlZChlcnJvciwgb3B0aW9ucykgewogICAgdmFyIG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7CiAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTsKCiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHsKICAgICAgbWVzc2FnZS5lcnJvcign6K+35rGC6KKr5ouS57udJyk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICB9Cn07CnZhciByZXFDb21tb24gPSB7CiAgLyoqCiAgICog5Y+R6YCB6K+35rGC5LmL5YmN5YGa5Lqb5LuA5LmICiAgICogQHBhcmFtIGNvbmZpZyBheGlvcyBjb25maWcKICAgKiBAcGFyYW0gb3B0aW9ucyDlupTnlKjphY3nva4g5YyF5ZCrOiB7cm91dGVyLCBpMThuLCBzdG9yZSwgbWVzc2FnZX0KICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBvbkZ1bGZpbGxlZDogZnVuY3Rpb24gb25GdWxmaWxsZWQoY29uZmlnLCBvcHRpb25zKSB7CiAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTsKICAgIHZhciB1cmwgPSBjb25maWcudXJsLAogICAgICAgIHhzcmZDb29raWVOYW1lID0gY29uZmlnLnhzcmZDb29raWVOYW1lOwoKICAgIGlmICh1cmwuaW5kZXhPZignbG9naW4nKSA9PT0gLTEgJiYgeHNyZkNvb2tpZU5hbWUgJiYgIUNvb2tpZS5nZXQoeHNyZkNvb2tpZU5hbWUpKSB7CiAgICAgIG1lc3NhZ2Uud2FybmluZygn6K6k6K+BIHRva2VuIOW3sui/h+acn++8jOivt+mHjeaWsOeZu+W9lScpOwogICAgfQoKICAgIHJldHVybiBjb25maWc7CiAgfSwKCiAgLyoqCiAgICog6K+35rGC5Ye66ZSZ5pe25YGa54K55LuA5LmICiAgICogQHBhcmFtIGVycm9yIOmUmeivr+WvueixoQogICAqIEBwYXJhbSBvcHRpb25zIOW6lOeUqOmFjee9riDljIXlkKs6IHtyb3V0ZXIsIGkxOG4sIHN0b3JlLCBtZXNzYWdlfQogICAqIEByZXR1cm5zIHtQcm9taXNlPG5ldmVyPn0KICAgKi8KICBvblJlamVjdGVkOiBmdW5jdGlvbiBvblJlamVjdGVkKGVycm9yLCBvcHRpb25zKSB7CiAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTsKICAgIG1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHJlcXVlc3Q6IFtyZXFDb21tb25dLAogIC8vIOivt+axguaLpuaIqgogIHJlc3BvbnNlOiBbcmVzcDQwMSwgcmVzcDQwM10gLy8g5ZON5bqU5oum5oiqCgp9Ow=="},{"version":3,"sources":["C:/Users/maxzh/OneDrive/桌面/vue-antd-admin-master/src/utils/axios-interceptors.js"],"names":["Cookie","resp401","onFulfilled","response","options","message","code","error","onRejected","status","Promise","reject","resp403","reqCommon","config","url","xsrfCookieName","indexOf","get","warning","request"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CACA;;AACA,IAAMC,OAAO,GAAG;AACd;AACF;AACA;AACA;AACA;AACA;AACEC,EAAAA,WAPc,uBAOFC,QAPE,EAOQC,OAPR,EAOiB;AAC7B,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;;AACA,QAAIF,QAAQ,CAACG,IAAT,KAAkB,GAAtB,EAA2B;AACzBD,MAAAA,OAAO,CAACE,KAAR,CAAc,MAAd;AACD;;AACD,WAAOJ,QAAP;AACD,GAba;;AAcd;AACF;AACA;AACA;AACA;AACA;AACEK,EAAAA,UApBc,sBAoBHD,KApBG,EAoBIH,OApBJ,EAoBa;AACzB,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;AACA,QAAOF,QAAP,GAAmBI,KAAnB,CAAOJ,QAAP;;AACA,QAAIA,QAAQ,CAACM,MAAT,KAAoB,GAAxB,EAA6B;AAC3BJ,MAAAA,OAAO,CAACE,KAAR,CAAc,MAAd;AACD;;AACD,WAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD;AA3Ba,CAAhB;AA8BA,IAAMK,OAAO,GAAG;AACdV,EAAAA,WADc,uBACFC,QADE,EACQC,OADR,EACiB;AAC7B,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;;AACA,QAAIF,QAAQ,CAACG,IAAT,KAAkB,GAAtB,EAA2B;AACzBD,MAAAA,OAAO,CAACE,KAAR,CAAc,OAAd;AACD;;AACD,WAAOJ,QAAP;AACD,GAPa;AAQdK,EAAAA,UARc,sBAQHD,KARG,EAQIH,OARJ,EAQa;AACzB,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;AACA,QAAOF,QAAP,GAAmBI,KAAnB,CAAOJ,QAAP;;AACA,QAAIA,QAAQ,CAACM,MAAT,KAAoB,GAAxB,EAA6B;AAC3BJ,MAAAA,OAAO,CAACE,KAAR,CAAc,OAAd;AACD;;AACD,WAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD;AAfa,CAAhB;AAkBA,IAAMM,SAAS,GAAG;AAChB;AACF;AACA;AACA;AACA;AACA;AACEX,EAAAA,WAPgB,uBAOJY,MAPI,EAOIV,OAPJ,EAOa;AAC3B,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;AACA,QAAOU,GAAP,GAA8BD,MAA9B,CAAOC,GAAP;AAAA,QAAYC,cAAZ,GAA8BF,MAA9B,CAAYE,cAAZ;;AACA,QAAID,GAAG,CAACE,OAAJ,CAAY,OAAZ,MAAyB,CAAC,CAA1B,IAA+BD,cAA/B,IAAiD,CAAChB,MAAM,CAACkB,GAAP,CAAWF,cAAX,CAAtD,EAAkF;AAChFX,MAAAA,OAAO,CAACc,OAAR,CAAgB,oBAAhB;AACD;;AACD,WAAOL,MAAP;AACD,GAde;;AAehB;AACF;AACA;AACA;AACA;AACA;AACEN,EAAAA,UArBgB,sBAqBLD,KArBK,EAqBEH,OArBF,EAqBW;AACzB,QAAOC,OAAP,GAAkBD,OAAlB,CAAOC,OAAP;AACAA,IAAAA,OAAO,CAACE,KAAR,CAAcA,KAAK,CAACF,OAApB;AACA,WAAOK,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD;AAzBe,CAAlB;AA4BA,eAAe;AACba,EAAAA,OAAO,EAAE,CAACP,SAAD,CADI;AACS;AACtBV,EAAAA,QAAQ,EAAE,CAACF,OAAD,EAAUW,OAAV,CAFG,CAEgB;;AAFhB,CAAf","sourcesContent":["import Cookie from 'js-cookie'\n// 401拦截\nconst resp401 = {\n  /**\n   * 响应数据之前做点什么\n   * @param response 响应对象\n   * @param options 应用配置 包含: {router, i18n, store, message}\n   * @returns {*}\n   */\n  onFulfilled(response, options) {\n    const {message} = options\n    if (response.code === 401) {\n      message.error('无此权限')\n    }\n    return response\n  },\n  /**\n   * 响应出错时执行\n   * @param error 错误对象\n   * @param options 应用配置 包含: {router, i18n, store, message}\n   * @returns {Promise<never>}\n   */\n  onRejected(error, options) {\n    const {message} = options\n    const {response} = error\n    if (response.status === 401) {\n      message.error('无此权限')\n    }\n    return Promise.reject(error)\n  }\n}\n\nconst resp403 = {\n  onFulfilled(response, options) {\n    const {message} = options\n    if (response.code === 403) {\n      message.error('请求被拒绝')\n    }\n    return response\n  },\n  onRejected(error, options) {\n    const {message} = options\n    const {response} = error\n    if (response.status === 403) {\n      message.error('请求被拒绝')\n    }\n    return Promise.reject(error)\n  }\n}\n\nconst reqCommon = {\n  /**\n   * 发送请求之前做些什么\n   * @param config axios config\n   * @param options 应用配置 包含: {router, i18n, store, message}\n   * @returns {*}\n   */\n  onFulfilled(config, options) {\n    const {message} = options\n    const {url, xsrfCookieName} = config\n    if (url.indexOf('login') === -1 && xsrfCookieName && !Cookie.get(xsrfCookieName)) {\n      message.warning('认证 token 已过期，请重新登录')\n    }\n    return config\n  },\n  /**\n   * 请求出错时做点什么\n   * @param error 错误对象\n   * @param options 应用配置 包含: {router, i18n, store, message}\n   * @returns {Promise<never>}\n   */\n  onRejected(error, options) {\n    const {message} = options\n    message.error(error.message)\n    return Promise.reject(error)\n  }\n}\n\nexport default {\n  request: [reqCommon], // 请求拦截\n  response: [resp401, resp403] // 响应拦截\n}\n"]}]}