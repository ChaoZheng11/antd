{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsView.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWF4emgvT25lRHJpdmUvXHU2ODRDXHU5NzYyL3Z1ZS1hbnRkLWFkbWluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZG90LWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFkbWluTGF5b3V0IGZyb20gJ0AvbGF5b3V0cy9BZG1pbkxheW91dCc7CmltcG9ydCBDb250ZXh0bWVudSBmcm9tICdAL2NvbXBvbmVudHMvbWVudS9Db250ZXh0bWVudSc7CmltcG9ydCBQYWdlVG9nZ2xlVHJhbnNpdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvdHJhbnNpdGlvbi9QYWdlVG9nZ2xlVHJhbnNpdGlvbic7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0STE4bktleSB9IGZyb20gJ0AvdXRpbHMvcm91dGVyVXRpbCc7CmltcG9ydCBBS2VlcEFsaXZlIGZyb20gJ0AvY29tcG9uZW50cy9jYWNoZS9BS2VlcEFsaXZlJzsKaW1wb3J0IFRhYnNIZWFkIGZyb20gJ0AvbGF5b3V0cy90YWJzL1RhYnNIZWFkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUYWJzVmlldycsCiAgaTE4bjogcmVxdWlyZSgnLi9pMThuJyksCiAgY29tcG9uZW50czogewogICAgVGFic0hlYWQ6IFRhYnNIZWFkLAogICAgUGFnZVRvZ2dsZVRyYW5zaXRpb246IFBhZ2VUb2dnbGVUcmFuc2l0aW9uLAogICAgQ29udGV4dG1lbnU6IENvbnRleHRtZW51LAogICAgQWRtaW5MYXlvdXQ6IEFkbWluTGF5b3V0LAogICAgQUtlZXBBbGl2ZTogQUtlZXBBbGl2ZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsZWFyQ2FjaGVzOiBbXSwKICAgICAgcGFnZUxpc3Q6IFtdLAogICAgICBhY3RpdmVQYWdlOiAnJywKICAgICAgbWVudVZpc2libGU6IGZhbHNlLAogICAgICByZWZyZXNoaW5nOiBmYWxzZSwKICAgICAgZXhjbHVkZUtleXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ211bHRpUGFnZScsICdjYWNoZVBhZ2UnLCAnYW5pbWF0ZScsICdsYXlvdXQnLCAncGFnZVdpZHRoJ10pKSwge30sIHsKICAgIG1lbnVJdGVtTGlzdDogZnVuY3Rpb24gbWVudUl0ZW1MaXN0KCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBrZXk6ICcxJywKICAgICAgICBpY29uOiAndmVydGljYWwtcmlnaHQnLAogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2Nsb3NlTGVmdCcpCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICcyJywKICAgICAgICBpY29uOiAndmVydGljYWwtbGVmdCcsCiAgICAgICAgdGV4dDogdGhpcy4kdCgnY2xvc2VSaWdodCcpCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICczJywKICAgICAgICBpY29uOiAnY2xvc2UnLAogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2Nsb3NlT3RoZXJzJykKICAgICAgfSwgewogICAgICAgIGtleTogJzQnLAogICAgICAgIGljb246ICdzeW5jJywKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdyZWZyZXNoJykKICAgICAgfV07CiAgICB9LAogICAgdGFic09mZnNldDogZnVuY3Rpb24gdGFic09mZnNldCgpIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlQYWdlID8gMjQgOiAwOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMkJHJvdXRlciwKICAgICAgICBfdGhpcyQkcm91dGVyJG9wdGlvbnMsCiAgICAgICAgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMubG9hZENhY2hlQ29uZmlnKChfdGhpcyQkcm91dGVyID0gdGhpcy4kcm91dGVyKSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkJHJvdXRlciRvcHRpb25zID0gX3RoaXMkJHJvdXRlci5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGVyJG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZXIkb3B0aW9ucy5yb3V0ZXMpOwogICAgdGhpcy5sb2FkQ2FjaGVkVGFicygpOwogICAgdmFyIHJvdXRlID0gdGhpcy4kcm91dGU7CgogICAgaWYgKHRoaXMucGFnZUxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHJvdXRlLnBhdGg7CiAgICB9KSA9PT0gLTEpIHsKICAgICAgdGhpcy5wYWdlTGlzdC5wdXNoKHRoaXMuY3JlYXRlUGFnZShyb3V0ZSkpOwogICAgfQoKICAgIHRoaXMuYWN0aXZlUGFnZSA9IHJvdXRlLnBhdGg7CgogICAgaWYgKHRoaXMubXVsdGlQYWdlKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZXRDYWNoZWRLZXkocm91dGUpOwogICAgICB9KTsKICAgICAgdGhpcy5hZGRMaXN0ZW5lcigpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY29ycmVjdFBhZ2VNaW5IZWlnaHQoLXRoaXMudGFic09mZnNldCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5yZW1vdmVMaXN0ZW5lcigpOwogICAgdGhpcy5jb3JyZWN0UGFnZU1pbkhlaWdodCh0aGlzLnRhYnNPZmZzZXQpOwogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGVyLm9wdGlvbnMucm91dGVzJzogZnVuY3Rpb24gJHJvdXRlck9wdGlvbnNSb3V0ZXModmFsKSB7CiAgICAgIHRoaXMuZXhjbHVkZUtleXMgPSBbXTsKICAgICAgdGhpcy5sb2FkQ2FjaGVDb25maWcodmFsKTsKICAgIH0sCiAgICAnJHJvdXRlJzogZnVuY3Rpb24gJHJvdXRlKG5ld1JvdXRlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5hY3RpdmVQYWdlID0gbmV3Um91dGUucGF0aDsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2VMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSBuZXdSb3V0ZS5wYXRoOwogICAgICB9KTsKCiAgICAgIGlmICghdGhpcy5tdWx0aVBhZ2UpIHsKICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gW3RoaXMuY3JlYXRlUGFnZShuZXdSb3V0ZSldOwogICAgICB9IGVsc2UgaWYgKHBhZ2UpIHsKICAgICAgICBwYWdlLmZ1bGxQYXRoID0gbmV3Um91dGUuZnVsbFBhdGg7CiAgICAgIH0gZWxzZSBpZiAoIXBhZ2UpIHsKICAgICAgICB0aGlzLnBhZ2VMaXN0LnB1c2godGhpcy5jcmVhdGVQYWdlKG5ld1JvdXRlKSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm11bHRpUGFnZSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5zZXRDYWNoZWRLZXkobmV3Um91dGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgJ211bHRpUGFnZSc6IGZ1bmN0aW9uIG11bHRpUGFnZShuZXdWYWwpIHsKICAgICAgaWYgKCFuZXdWYWwpIHsKICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gW3RoaXMuY3JlYXRlUGFnZSh0aGlzLiRyb3V0ZSldOwogICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZExpc3RlbmVyKCk7CiAgICAgIH0KICAgIH0sCiAgICB0YWJzT2Zmc2V0OiBmdW5jdGlvbiB0YWJzT2Zmc2V0KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuY29ycmVjdFBhZ2VNaW5IZWlnaHQob2xkVmFsIC0gbmV3VmFsKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoewogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShrZXkpIHsKICAgICAgdGhpcy5hY3RpdmVQYWdlID0ga2V5OwogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IGtleTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhZ2UuZnVsbFBhdGgpOwogICAgfSwKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGtleSwgbmV4dCkgewogICAgICBpZiAodGhpcy5wYWdlTGlzdC5sZW5ndGggPT09IDEpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKHRoaXMuJHQoJ3dhcm4nKSk7CiAgICAgIH0gLy/muIXpmaTnvJPlrZgKCgogICAgICB2YXIgaW5kZXggPSB0aGlzLnBhZ2VMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IGtleTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2xlYXJDYWNoZXMgPSB0aGlzLnBhZ2VMaXN0LnNwbGljZShpbmRleCwgMSkubWFwKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgcmV0dXJuIHBhZ2UuY2FjaGVkS2V5OwogICAgICB9KTsKCiAgICAgIGlmIChuZXh0KSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gobmV4dCk7CiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSB0aGlzLmFjdGl2ZVBhZ2UpIHsKICAgICAgICBpbmRleCA9IGluZGV4ID49IHRoaXMucGFnZUxpc3QubGVuZ3RoID8gdGhpcy5wYWdlTGlzdC5sZW5ndGggLSAxIDogaW5kZXg7CiAgICAgICAgdGhpcy5hY3RpdmVQYWdlID0gdGhpcy5wYWdlTGlzdFtpbmRleF0ucGF0aDsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLmFjdGl2ZVBhZ2UpOwogICAgICB9CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChrZXksIHBhZ2UpIHsKICAgICAgcGFnZSA9IHBhZ2UgfHwgdGhpcy5wYWdlTGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0ga2V5OwogICAgICB9KTsKICAgICAgcGFnZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5jbGVhckNhY2hlKHBhZ2UpOwoKICAgICAgaWYgKGtleSA9PT0gdGhpcy5hY3RpdmVQYWdlKSB7CiAgICAgICAgdGhpcy5yZWxvYWRDb250ZW50KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBwYWdlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlhbblrp7liLfmlrDlvojlv6vvvIzliqDov5nkuKrlu7bov5/nuq/nsrnkuLrkuoYgbG9hZGluZyDnirbmgIHlpJrlsZXnpLrkuIDkvJrlhL/vvIzorqnnlKjmiLfmhJ/nn6XliLfmlrDov5nkuIDov4fnqIsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBwYWdlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LCA1MDApOwogICAgICB9CiAgICB9LAogICAgb25Db250ZXh0bWVudTogZnVuY3Rpb24gb25Db250ZXh0bWVudShwYWdlS2V5LCBlKSB7CiAgICAgIGlmIChwYWdlS2V5KSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUubWV0YSA9IHBhZ2VLZXk7CiAgICAgICAgdGhpcy5tZW51VmlzaWJsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBvbk1lbnVTZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudVNlbGVjdChrZXksIHRhcmdldCwgcGFnZUtleSkgewogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgdGhpcy5jbG9zZUxlZnQocGFnZUtleSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnMic6CiAgICAgICAgICB0aGlzLmNsb3NlUmlnaHQocGFnZUtleSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLmNsb3NlT3RoZXJzKHBhZ2VLZXkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJzQnOgogICAgICAgICAgdGhpcy5yZWZyZXNoKHBhZ2VLZXkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGNsb3NlT3RoZXJzOiBmdW5jdGlvbiBjbG9zZU90aGVycyhwYWdlS2V5KSB7CiAgICAgIC8vIOa4hemZpOe8k+WtmAogICAgICB2YXIgY2xlYXJQYWdlcyA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCAhPT0gcGFnZUtleSAmJiAhaXRlbS51bmNsb3NlOwogICAgICB9KTsKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2FjaGVkS2V5OwogICAgICB9KTsKICAgICAgdGhpcy5wYWdlTGlzdCA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pOwogICAgICB9KTsgLy8g5Yik5pat6Lez6L2sCgogICAgICBpZiAodGhpcy5hY3RpdmVQYWdlICE9IHBhZ2VLZXkpIHsKICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UgPSBwYWdlS2V5OwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWN0aXZlUGFnZSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZUxlZnQ6IGZ1bmN0aW9uIGNsb3NlTGVmdChwYWdlS2V5KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5wYWdlTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSBwYWdlS2V5OwogICAgICB9KTsgLy8g5riF6Zmk57yT5a2YCgogICAgICB2YXIgY2xlYXJQYWdlcyA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgcmV0dXJuIGkgPCBpbmRleCAmJiAhaXRlbS51bmNsb3NlOwogICAgICB9KTsKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2FjaGVkS2V5OwogICAgICB9KTsKICAgICAgdGhpcy5wYWdlTGlzdCA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pOwogICAgICB9KTsgLy8g5Yik5pat6Lez6L2sCgogICAgICBpZiAoIXRoaXMucGFnZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IF90aGlzMy5hY3RpdmVQYWdlOwogICAgICB9KSkgewogICAgICAgIHRoaXMuYWN0aXZlUGFnZSA9IHBhZ2VLZXk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hY3RpdmVQYWdlKTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlUmlnaHQ6IGZ1bmN0aW9uIGNsb3NlUmlnaHQocGFnZUtleSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8vIOa4hemZpOe8k+WtmAogICAgICB2YXIgaW5kZXggPSB0aGlzLnBhZ2VMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHBhZ2VLZXk7CiAgICAgIH0pOwogICAgICB2YXIgY2xlYXJQYWdlcyA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgcmV0dXJuIGkgPiBpbmRleCAmJiAhaXRlbS51bmNsb3NlOwogICAgICB9KTsKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2FjaGVkS2V5OwogICAgICB9KTsKICAgICAgdGhpcy5wYWdlTGlzdCA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pOwogICAgICB9KTsgLy8g5Yik5pat6Lez6L2sCgogICAgICBpZiAoIXRoaXMucGFnZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IF90aGlzNC5hY3RpdmVQYWdlOwogICAgICB9KSkgewogICAgICAgIHRoaXMuYWN0aXZlUGFnZSA9IHBhZ2VLZXk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hY3RpdmVQYWdlKTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyQ2FjaGU6IGZ1bmN0aW9uIGNsZWFyQ2FjaGUocGFnZSkgewogICAgICBwYWdlLl9pbml0XyA9IGZhbHNlOwogICAgICB0aGlzLmNsZWFyQ2FjaGVzID0gW3BhZ2UuY2FjaGVkS2V5XTsKICAgIH0sCiAgICByZWxvYWRDb250ZW50OiBmdW5jdGlvbiByZWxvYWRDb250ZW50KG9uTG9hZGVkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5yZWZyZXNoaW5nID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LnJlZnJlc2hpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUuc2V0Q2FjaGVkS2V5KF90aGlzNS4kcm91dGUpOwoKICAgICAgICAgIGlmICh0eXBlb2Ygb25Mb2FkZWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb25Mb2FkZWQuYXBwbHkoX3RoaXM1LCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sIDIwMCk7CiAgICB9LAogICAgcGFnZU5hbWU6IGZ1bmN0aW9uIHBhZ2VOYW1lKHBhZ2UpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoZ2V0STE4bktleShwYWdlLmtleVBhdGgpKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmt7vliqDnm5HlkKzlmagKICAgICAqLwogICAgYWRkTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZExpc3RlbmVyKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZTpjbG9zZScsIHRoaXMuY2xvc2VQYWdlTGlzdGVuZXIpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZTpyZWZyZXNoJywgdGhpcy5yZWZyZXNoUGFnZUxpc3RlbmVyKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIHRoaXMudW5sb2FkTGlzdGVuZXIpOwogICAgfSwKCiAgICAvKioKICAgICAqIOenu+WHuuebkeWQrOWZqAogICAgICovCiAgICByZW1vdmVMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwYWdlOmNsb3NlJywgdGhpcy5jbG9zZVBhZ2VMaXN0ZW5lcik7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwYWdlOnJlZnJlc2gnLCB0aGlzLnJlZnJlc2hQYWdlTGlzdGVuZXIpOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgdGhpcy51bmxvYWRMaXN0ZW5lcik7CiAgICB9LAoKICAgIC8qKgogICAgICog6aG1562+5YWz6Zet5LqL5Lu255uR5ZCsCiAgICAgKiBAcGFyYW0gZXZlbnQg6aG1562+5YWz6Zet5LqL5Lu2CiAgICAgKi8KICAgIGNsb3NlUGFnZUxpc3RlbmVyOiBmdW5jdGlvbiBjbG9zZVBhZ2VMaXN0ZW5lcihldmVudCkgewogICAgICB2YXIgX2V2ZW50JGRldGFpbCA9IGV2ZW50LmRldGFpbCwKICAgICAgICAgIGNsb3NlUm91dGUgPSBfZXZlbnQkZGV0YWlsLmNsb3NlUm91dGUsCiAgICAgICAgICBuZXh0Um91dGUgPSBfZXZlbnQkZGV0YWlsLm5leHRSb3V0ZTsKICAgICAgdmFyIGNsb3NlUGF0aCA9IHR5cGVvZiBjbG9zZVJvdXRlID09PSAnc3RyaW5nJyA/IGNsb3NlUm91dGUgOiBjbG9zZVJvdXRlLnBhdGg7CiAgICAgIHZhciBwYXRoID0gY2xvc2VQYXRoICYmIGNsb3NlUGF0aC5zcGxpdCgnPycpWzBdOwogICAgICB0aGlzLnJlbW92ZShwYXRoLCBuZXh0Um91dGUpOwogICAgfSwKCiAgICAvKioKICAgICAqIOmhtemdouWIt+aWsOS6i+S7tuebkeWQrAogICAgICogQHBhcmFtIGV2ZW50IOmhteetvuWFs+mXreS6i+S7tgogICAgICovCiAgICByZWZyZXNoUGFnZUxpc3RlbmVyOiBmdW5jdGlvbiByZWZyZXNoUGFnZUxpc3RlbmVyKGV2ZW50KSB7CiAgICAgIHZhciBwYWdlS2V5ID0gZXZlbnQuZGV0YWlsLnBhZ2VLZXk7CiAgICAgIHZhciBwYXRoID0gcGFnZUtleSAmJiBwYWdlS2V5LnNwbGl0KCc/JylbMF07CiAgICAgIHRoaXMucmVmcmVzaChwYXRoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDpobXpnaIgdW5sb2FkIOS6i+S7tuebkeWQrOWZqO+8jOa3u+WKoOmhteetvuWIsCBzZXNzaW9uIOe8k+WtmO+8jOeUqOS6juWIt+aWsOaXtuS/neeVmemhteetvgogICAgICovCiAgICB1bmxvYWRMaXN0ZW5lcjogZnVuY3Rpb24gdW5sb2FkTGlzdGVuZXIoKSB7CiAgICAgIHZhciB0YWJzID0gdGhpcy5wYWdlTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgIF9pbml0XzogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9UQkFTX0tFWSwgSlNPTi5zdHJpbmdpZnkodGFicykpOwogICAgfSwKICAgIGNyZWF0ZVBhZ2U6IGZ1bmN0aW9uIGNyZWF0ZVBhZ2Uocm91dGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBrZXlQYXRoOiByb3V0ZS5tYXRjaGVkW3JvdXRlLm1hdGNoZWQubGVuZ3RoIC0gMV0ucGF0aCwKICAgICAgICBmdWxsUGF0aDogcm91dGUuZnVsbFBhdGgsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgcGF0aDogcm91dGUucGF0aCwKICAgICAgICB0aXRsZTogcm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnBhZ2UgJiYgcm91dGUubWV0YS5wYWdlLnRpdGxlLAogICAgICAgIHVuY2xvc2U6IHJvdXRlLm1ldGEgJiYgcm91dGUubWV0YS5wYWdlICYmIHJvdXRlLm1ldGEucGFnZS5jbG9zYWJsZSA9PT0gZmFsc2UKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDorr7nva7pobXpnaLnvJPlrZjnmoRrZXkKICAgICAqIEBwYXJhbSByb3V0ZSDpobXpnaLlr7nlupTnmoTot6/nlLEKICAgICAqLwogICAgc2V0Q2FjaGVkS2V5OiBmdW5jdGlvbiBzZXRDYWNoZWRLZXkocm91dGUpIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2VMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSByb3V0ZS5wYXRoOwogICAgICB9KTsKICAgICAgcGFnZS51bmNsb3NlID0gcm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnBhZ2UgJiYgcm91dGUubWV0YS5wYWdlLmNsb3NhYmxlID09PSBmYWxzZTsKCiAgICAgIGlmICghcGFnZS5faW5pdF8pIHsKICAgICAgICB2YXIgdm5vZGUgPSB0aGlzLiRyZWZzLnRhYkNvbnRlbnQuJHZub2RlOwogICAgICAgIHBhZ2UuY2FjaGVkS2V5ID0gdm5vZGUua2V5ICsgdm5vZGUuY29tcG9uZW50T3B0aW9ucy5DdG9yLmNpZDsKICAgICAgICBwYWdlLl9pbml0XyA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDliqDovb3nvJPlrZjnmoQgdGFicwogICAgICovCiAgICBsb2FkQ2FjaGVkVGFiczogZnVuY3Rpb24gbG9hZENhY2hlZFRhYnMoKSB7CiAgICAgIHZhciBjYWNoZWRUYWJzU3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShwcm9jZXNzLmVudi5WVUVfQVBQX1RCQVNfS0VZKTsKCiAgICAgIGlmIChjYWNoZWRUYWJzU3RyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBjYWNoZWRUYWJzID0gSlNPTi5wYXJzZShjYWNoZWRUYWJzU3RyKTsKCiAgICAgICAgICBpZiAoY2FjaGVkVGFicy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMucGFnZUxpc3QgPSBjYWNoZWRUYWJzOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignZmFpbGVkIHRvIGxvYWQgY2FjaGVkIHRhYnMsIGdvdCBleGNlcHRpb246JywgZSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9UQkFTX0tFWSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbG9hZENhY2hlQ29uZmlnOiBmdW5jdGlvbiBsb2FkQ2FjaGVDb25maWcocm91dGVzKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHBDYWNoZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgX3JlZiwgX2l0ZW0kbWV0YSRwYWdlJGNhY2hlLCBfaXRlbSRtZXRhLCBfaXRlbSRtZXRhJHBhZ2U7CgogICAgICAgIHZhciBjYWNoZUFibGUgPSAoX3JlZiA9IChfaXRlbSRtZXRhJHBhZ2UkY2FjaGUgPSAoX2l0ZW0kbWV0YSA9IGl0ZW0ubWV0YSkgPT09IG51bGwgfHwgX2l0ZW0kbWV0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJG1ldGEkcGFnZSA9IF9pdGVtJG1ldGEucGFnZSkgPT09IG51bGwgfHwgX2l0ZW0kbWV0YSRwYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRtZXRhJHBhZ2UuY2FjaGVBYmxlKSAhPT0gbnVsbCAmJiBfaXRlbSRtZXRhJHBhZ2UkY2FjaGUgIT09IHZvaWQgMCA/IF9pdGVtJG1ldGEkcGFnZSRjYWNoZSA6IHBDYWNoZSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdm9pZCAwID8gX3JlZiA6IHRydWU7CgogICAgICAgIGlmICghY2FjaGVBYmxlKSB7CiAgICAgICAgICBfdGhpczYuZXhjbHVkZUtleXMucHVzaChuZXcgUmVnRXhwKCIiLmNvbmNhdChpdGVtLnBhdGgsICJcXGQrJCIpKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgewogICAgICAgICAgX3RoaXM2LmxvYWRDYWNoZUNvbmZpZyhpdGVtLmNoaWxkcmVuLCBjYWNoZUFibGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgbWFwTXV0YXRpb25zKCdzZXR0aW5nJywgWydjb3JyZWN0UGFnZU1pbkhlaWdodCddKSkKfTs="},{"version":3,"mappings":"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;AACA;AACA;AACAE,qBA1HA,6BA0HAC,KA1HA,EA0HA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA,KA/HA;;AAgIA;AACA;AACA;AACA;AACAC,uBApIA,+BAoIAD,KApIA,EAoIA;AACA;AACA;AACA;AACA,KAxIA;;AAyIA;AACA;AACA;AACAE,kBA5IA,4BA4IA;AACA;AAAA;AAAAC;AAAA;AAAA;AACAC;AACA,KA/IA;AAgJAC,cAhJA,sBAgJAC,KAhJA,EAgJA;AACA;AACAC,6DADA;AAEAC,gCAFA;AAEAC,sBAFA;AAGAC,wBAHA;AAIAC,qEAJA;AAKAC;AALA;AAOA,KAxJA;;AAyJA;AACA;AACA;AACA;AACAC,gBA7JA,wBA6JAP,KA7JA,EA6JA;AACA;AAAA;AAAA;AACAhC;;AACA;AACA;AACAA;AACAA;AACA;AACA,KArKA;;AAsKA;AACA;AACA;AACAwC,kBAzKA,4BAyKA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SALA,CAKA;AACAC;AACA,SAPA,SAOA;AACAX;AACA;AACA;AACA,KAvLA;AAwLAY,mBAxLA,2BAwLAC,MAxLA,EAwLA;AAAA;;AAAA;AACAA;AAAA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OARA;AASA;AAlMA,KAmMAC,iDAnMA;AAnFA","names":["name","i18n","components","TabsHead","PageToggleTransition","Contextmenu","AdminLayout","AKeepAlive","data","clearCaches","pageList","activePage","menuVisible","refreshing","excludeKeys","computed","mapState","menuItemList","key","icon","text","tabsOffset","created","mounted","beforeDestroy","watch","page","newVal","oldVal","methods","changePage","remove","next","index","refresh","setTimeout","onContextmenu","pageKey","e","onMenuSelect","target","closeOthers","closeLeft","closeRight","clearCache","reloadContent","onLoaded","pageName","addListener","window","removeListener","closePageListener","event","refreshPageListener","unloadListener","_init_","sessionStorage","createPage","route","keyPath","fullPath","loading","path","title","unclose","setCachedKey","loadCachedTabs","console","loadCacheConfig","routes","mapMutations"],"sourceRoot":"src/layouts/tabs","sources":["TabsView.vue"],"sourcesContent":["<template>\n  <admin-layout>\n    <contextmenu :itemList=\"menuItemList\" :visible.sync=\"menuVisible\" @select=\"onMenuSelect\" />\n    <tabs-head\n        v-if=\"multiPage\"\n        :active=\"activePage\"\n        :page-list=\"pageList\"\n        @change=\"changePage\"\n        @close=\"remove\"\n        @refresh=\"refresh\"\n        @contextmenu=\"onContextmenu\"\n    />\n    <div :class=\"['tabs-view-content', layout, pageWidth]\" :style=\"`margin-top: ${multiPage ? -24 : 0}px`\">\n      <page-toggle-transition :disabled=\"animate.disabled\" :animate=\"animate.name\" :direction=\"animate.direction\">\n        <a-keep-alive :exclude-keys=\"excludeKeys\" v-if=\"multiPage && cachePage\" v-model=\"clearCaches\">\n          <router-view v-if=\"!refreshing\" ref=\"tabContent\" :key=\"$route.path\" />\n        </a-keep-alive>\n        <router-view ref=\"tabContent\" v-else-if=\"!refreshing\" />\n      </page-toggle-transition>\n    </div>\n  </admin-layout>\n</template>\n\n<script>\nimport AdminLayout from '@/layouts/AdminLayout'\nimport Contextmenu from '@/components/menu/Contextmenu'\nimport PageToggleTransition from '@/components/transition/PageToggleTransition'\nimport {mapState, mapMutations} from 'vuex'\nimport {getI18nKey} from '@/utils/routerUtil'\nimport AKeepAlive from '@/components/cache/AKeepAlive'\nimport TabsHead from '@/layouts/tabs/TabsHead'\n\nexport default {\n  name: 'TabsView',\n  i18n: require('./i18n'),\n  components: {TabsHead, PageToggleTransition, Contextmenu, AdminLayout , AKeepAlive },\n  data () {\n    return {\n      clearCaches: [],\n      pageList: [],\n      activePage: '',\n      menuVisible: false,\n      refreshing: false,\n      excludeKeys: []\n    }\n  },\n  computed: {\n    ...mapState('setting', ['multiPage', 'cachePage', 'animate', 'layout', 'pageWidth']),\n    menuItemList() {\n      return [\n        { key: '1', icon: 'vertical-right', text: this.$t('closeLeft') },\n        { key: '2', icon: 'vertical-left', text: this.$t('closeRight') },\n        { key: '3', icon: 'close', text: this.$t('closeOthers') },\n        { key: '4', icon: 'sync', text: this.$t('refresh') },\n      ]\n    },\n    tabsOffset() {\n      return this.multiPage ? 24 : 0\n    }\n  },\n  created () {\n    this.loadCacheConfig(this.$router?.options?.routes)\n    this.loadCachedTabs()\n    const route = this.$route\n    if (this.pageList.findIndex(item => item.path === route.path) === -1) {\n      this.pageList.push(this.createPage(route))\n    }\n    this.activePage = route.path\n    if (this.multiPage) {\n      this.$nextTick(() => {\n        this.setCachedKey(route)\n      })\n      this.addListener()\n    }\n  },\n  mounted () {\n    this.correctPageMinHeight(-this.tabsOffset)\n  },\n  beforeDestroy() {\n    this.removeListener()\n    this.correctPageMinHeight(this.tabsOffset)\n  },\n  watch: {\n    '$router.options.routes': function (val) {\n      this.excludeKeys = []\n      this.loadCacheConfig(val)\n    },\n    '$route': function (newRoute) {\n      this.activePage = newRoute.path\n      const page = this.pageList.find(item => item.path === newRoute.path)\n      if (!this.multiPage) {\n        this.pageList = [this.createPage(newRoute)]\n      } else if (page) {\n        page.fullPath = newRoute.fullPath\n      } else if (!page) {\n        this.pageList.push(this.createPage(newRoute))\n      }\n      if (this.multiPage) {\n        this.$nextTick(() => {\n          this.setCachedKey(newRoute)\n        })\n      }\n    },\n    'multiPage': function (newVal) {\n      if (!newVal) {\n        this.pageList = [this.createPage(this.$route)]\n        this.removeListener()\n      } else {\n        this.addListener()\n      }\n    },\n    tabsOffset(newVal, oldVal) {\n      this.correctPageMinHeight(oldVal - newVal)\n    }\n  },\n  methods: {\n    changePage (key) {\n      this.activePage = key\n      const page = this.pageList.find(item => item.path === key)\n      this.$router.push(page.fullPath)\n    },\n    remove (key, next) {\n      if (this.pageList.length === 1) {\n        return this.$message.warning(this.$t('warn'))\n      }\n      //清除缓存\n      let index = this.pageList.findIndex(item => item.path === key)\n      this.clearCaches = this.pageList.splice(index, 1).map(page => page.cachedKey)\n      if (next) {\n        this.$router.push(next)\n      } else if (key === this.activePage) {\n        index = index >= this.pageList.length ? this.pageList.length - 1 : index\n        this.activePage = this.pageList[index].path\n        this.$router.push(this.activePage)\n      }\n    },\n    refresh (key, page) {\n      page = page || this.pageList.find(item => item.path === key)\n      page.loading = true\n      this.clearCache(page)\n      if (key === this.activePage) {\n        this.reloadContent(() => page.loading = false)\n      } else {\n        // 其实刷新很快，加这个延迟纯粹为了 loading 状态多展示一会儿，让用户感知刷新这一过程\n        setTimeout(() => page.loading = false, 500)\n      }\n    },\n    onContextmenu(pageKey, e) {\n      if (pageKey) {\n        e.preventDefault()\n        e.meta = pageKey\n        this.menuVisible = true\n      }\n    },\n    onMenuSelect (key, target, pageKey) {\n      switch (key) {\n        case '1': this.closeLeft(pageKey); break\n        case '2': this.closeRight(pageKey); break\n        case '3': this.closeOthers(pageKey); break\n        case '4': this.refresh(pageKey); break\n        default: break\n      }\n    },\n    closeOthers (pageKey) {\n      // 清除缓存\n      const clearPages = this.pageList.filter(item => item.path !== pageKey && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (this.activePage != pageKey) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    closeLeft (pageKey) {\n      const index = this.pageList.findIndex(item => item.path === pageKey)\n      // 清除缓存\n      const clearPages = this.pageList.filter((item, i) => i < index && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (!this.pageList.find(item => item.path === this.activePage)) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    closeRight (pageKey) {\n      // 清除缓存\n      const index = this.pageList.findIndex(item => item.path === pageKey)\n      const clearPages = this.pageList.filter((item, i) => i > index && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (!this.pageList.find(item => item.path === this.activePage)) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    clearCache(page) {\n      page._init_ = false\n      this.clearCaches = [page.cachedKey]\n    },\n    reloadContent(onLoaded) {\n      this.refreshing = true\n      setTimeout(() => {\n        this.refreshing = false\n        this.$nextTick(() => {\n          this.setCachedKey(this.$route)\n          if (typeof onLoaded === 'function') {\n            onLoaded.apply(this, [])\n          }\n        })\n      }, 200)\n    },\n    pageName(page) {\n      return this.$t(getI18nKey(page.keyPath))\n    },\n    /**\n     * 添加监听器\n     */\n    addListener() {\n      window.addEventListener('page:close', this.closePageListener)\n      window.addEventListener('page:refresh', this.refreshPageListener)\n      window.addEventListener('unload', this.unloadListener)\n    },\n    /**\n     * 移出监听器\n     */\n    removeListener() {\n      window.removeEventListener('page:close', this.closePageListener)\n      window.removeEventListener('page:refresh', this.refreshPageListener)\n      window.removeEventListener('unload', this.unloadListener)\n    },\n    /**\n     * 页签关闭事件监听\n     * @param event 页签关闭事件\n     */\n    closePageListener(event) {\n      const {closeRoute, nextRoute} = event.detail\n      const closePath = typeof closeRoute === 'string' ? closeRoute : closeRoute.path\n      const path = closePath && closePath.split('?')[0]\n      this.remove(path, nextRoute)\n    },\n    /**\n     * 页面刷新事件监听\n     * @param event 页签关闭事件\n     */\n    refreshPageListener(event) {\n      const {pageKey} = event.detail\n      const path = pageKey && pageKey.split('?')[0]\n      this.refresh(path)\n    },\n    /**\n     * 页面 unload 事件监听器，添加页签到 session 缓存，用于刷新时保留页签\n     */\n    unloadListener() {\n      const tabs = this.pageList.map(item => ({...item, _init_: false}))\n      sessionStorage.setItem(process.env.VUE_APP_TBAS_KEY, JSON.stringify(tabs))\n    },\n    createPage(route) {\n      return {\n        keyPath: route.matched[route.matched.length - 1].path,\n        fullPath: route.fullPath, loading: false,\n        path: route.path,\n        title: route.meta && route.meta.page && route.meta.page.title,\n        unclose: route.meta && route.meta.page && (route.meta.page.closable === false),\n      }\n    },\n    /**\n     * 设置页面缓存的key\n     * @param route 页面对应的路由\n     */\n    setCachedKey(route) {\n      const page = this.pageList.find(item => item.path === route.path)\n      page.unclose = route.meta && route.meta.page && (route.meta.page.closable === false)\n      if (!page._init_) {\n        const vnode = this.$refs.tabContent.$vnode\n        page.cachedKey = vnode.key + vnode.componentOptions.Ctor.cid\n        page._init_ = true\n      }\n    },\n    /**\n     * 加载缓存的 tabs\n     */\n    loadCachedTabs() {\n      const cachedTabsStr = sessionStorage.getItem(process.env.VUE_APP_TBAS_KEY)\n      if (cachedTabsStr) {\n        try {\n          const cachedTabs = JSON.parse(cachedTabsStr)\n          if (cachedTabs.length > 0) {\n            this.pageList = cachedTabs\n          }\n        } catch (e) {\n          console.warn('failed to load cached tabs, got exception:', e)\n        } finally {\n          sessionStorage.removeItem(process.env.VUE_APP_TBAS_KEY)\n        }\n      }\n    },\n    loadCacheConfig(routes, pCache = true) {\n      routes.forEach(item => {\n        const cacheAble = item.meta?.page?.cacheAble ?? pCache ?? true\n        if (!cacheAble) {\n          this.excludeKeys.push(new RegExp(`${item.path}\\\\d+$`))\n        }\n        if (item.children) {\n          this.loadCacheConfig(item.children, cacheAble)\n        }\n      })\n    },\n    ...mapMutations('setting', ['correctPageMinHeight'])\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .tabs-view{\n    margin: -16px auto 8px;\n    &.head.fixed{\n      max-width: 1400px;\n    }\n  }\n  .tabs-view-content{\n    position: relative;\n    &.head.fixed{\n      width: 1400px;\n      margin: 0 auto;\n    }\n  }\n</style>\n"]}]}