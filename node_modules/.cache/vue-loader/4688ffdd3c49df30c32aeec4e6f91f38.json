{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsHead.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsHead.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGUsIG1hcE11dGF0aW9uc30gZnJvbSAndnVleCcKaW1wb3J0IHtnZXRJMThuS2V5fSBmcm9tICdAL3V0aWxzL3JvdXRlclV0aWwnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYnNIZWFkJywKICBpMThuOiB7CiAgICBtZXNzYWdlczogewogICAgICBDTjogewogICAgICAgIGxvY2s6ICfngrnlh7vplIHlrprpobXnrb7lpLQnLAogICAgICAgIHVubG9jazogJ+eCueWHu+ino+mZpOmUgeWumicsCiAgICAgIH0sCiAgICAgIEhLOiB7CiAgICAgICAgbG9jazogJ+m7nuaTiumOluWumumggeewvemgrScsCiAgICAgICAgdW5sb2NrOiAn6bue5pOK6Kej6Zmk6Y6W5a6aJywKICAgICAgfSwKICAgICAgVVM6IHsKICAgICAgICBsb2NrOiAnY2xpY2sgdG8gbG9jayB0aGUgdGFicyBoZWFkJywKICAgICAgICB1bmxvY2s6ICdjbGljayB0byB1bmxvY2snLAogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgcGFnZUxpc3Q6IEFycmF5LAogICAgYWN0aXZlOiBTdHJpbmcsCiAgICBmaXhlZDogQm9vbGVhbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFmZml4ZWQ6IGZhbHNlLAogICAgfQogIH0sCiAgaW5qZWN0OlsnYWRtaW5MYXlvdXQnXSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5hZmZpeGVkID0gdGhpcy5maXhlZFRhYnMKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnc2V0dGluZycsIFsnbGF5b3V0JywgJ3BhZ2VXaWR0aCcsICdmaXhlZEhlYWRlcicsICdmaXhlZFRhYnMnLCAnY3VzdG9tVGl0bGVzJ10pLAogICAgbG9ja1RpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy4kdCh0aGlzLmZpeGVkVGFicyA/ICd1bmxvY2snIDogJ2xvY2snKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCdzZXR0aW5nJywgWydzZXRGaXhlZFRhYnMnXSksCiAgICBvbkxvY2tDbGljaygpIHsKICAgICAgdGhpcy5zZXRGaXhlZFRhYnMoIXRoaXMuZml4ZWRUYWJzKQogICAgICBpZiAodGhpcy5maXhlZFRhYnMpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuYWZmaXhlZCA9IHRydWUKICAgICAgICB9LCAyMDApCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZmZpeGVkID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIG9uVGFiQ2xpY2soa2V5KSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZSAhPT0ga2V5KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywga2V5KQogICAgICB9CiAgICB9LAogICAgb25DbG9zZShrZXkpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnLCBrZXkpCiAgICB9LAogICAgb25SZWZyZXNoKHBhZ2UpIHsKICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcsIHBhZ2UucGF0aCwgcGFnZSkKICAgIH0sCiAgICBvbkNvbnRleHRtZW51KHBhZ2VLZXksIGUpIHsKICAgICAgdGhpcy4kZW1pdCgnY29udGV4dG1lbnUnLCBwYWdlS2V5LCBlKQogICAgfSwKICAgIHBhZ2VOYW1lKHBhZ2UpIHsKICAgICAgY29uc3QgcGFnZVBhdGggPSBwYWdlLmZ1bGxQYXRoLnNwbGl0KCc/JylbMF0KICAgICAgY29uc3QgY3VzdG9tID0gdGhpcy5jdXN0b21UaXRsZXMuZmluZChpdGVtID0+IGl0ZW0ucGF0aCA9PT0gcGFnZVBhdGgpCiAgICAgIHJldHVybiAoY3VzdG9tICYmIGN1c3RvbS50aXRsZSkgfHwgcGFnZS50aXRsZSB8fCB0aGlzLiR0KGdldEkxOG5LZXkocGFnZS5rZXlQYXRoKSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["TabsHead.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabsHead.vue","sourceRoot":"src/layouts/tabs","sourcesContent":["<template>\n  <div :class=\"['tabs-head', layout, pageWidth]\">\n    <a-tabs\n        type=\"editable-card\"\n        :class=\"['tabs-container', layout, pageWidth, {'affixed' : affixed, 'fixed-header' : fixedHeader, 'collapsed' : adminLayout.collapsed}]\"\n        :active-key=\"active\"\n        :hide-add=\"true\"\n    >\n      <a-tooltip placement=\"left\" :title=\"lockTitle\" slot=\"tabBarExtraContent\">\n        <a-icon\n            theme=\"filled\"\n            @click=\"onLockClick\"\n            class=\"header-lock\"\n            :type=\"fixedTabs ? 'lock' : 'unlock'\"\n        />\n      </a-tooltip>\n      <a-tab-pane v-for=\"page in pageList\" :key=\"page.path\">\n        <div slot=\"tab\" class=\"tab\" @contextmenu=\"e => onContextmenu(page.path, e)\">\n          <a-icon @click=\"onRefresh(page)\" :class=\"['icon-sync', {'hide': page.path !== active && !page.loading}]\" :type=\"page.loading ? 'loading' : 'sync'\" />\n          <div class=\"title\" @click=\"onTabClick(page.path)\" >{{pageName(page)}}</div>\n          <a-icon v-if=\"!page.unclose\" @click=\"onClose(page.path)\" class=\"icon-close\" type=\"close\"/>\n        </div>\n      </a-tab-pane>\n    </a-tabs>\n    <div v-if=\"affixed\" class=\"virtual-tabs\"></div>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapMutations} from 'vuex'\n  import {getI18nKey} from '@/utils/routerUtil'\n\n  export default {\n    name: 'TabsHead',\n    i18n: {\n      messages: {\n        CN: {\n          lock: '点击锁定页签头',\n          unlock: '点击解除锁定',\n        },\n        HK: {\n          lock: '點擊鎖定頁簽頭',\n          unlock: '點擊解除鎖定',\n        },\n        US: {\n          lock: 'click to lock the tabs head',\n          unlock: 'click to unlock',\n        }\n      }\n    },\n    props: {\n      pageList: Array,\n      active: String,\n      fixed: Boolean\n    },\n    data() {\n      return {\n        affixed: false,\n      }\n    },\n    inject:['adminLayout'],\n    created() {\n      this.affixed = this.fixedTabs\n    },\n    computed: {\n      ...mapState('setting', ['layout', 'pageWidth', 'fixedHeader', 'fixedTabs', 'customTitles']),\n      lockTitle() {\n        return this.$t(this.fixedTabs ? 'unlock' : 'lock')\n      }\n    },\n    methods: {\n      ...mapMutations('setting', ['setFixedTabs']),\n      onLockClick() {\n        this.setFixedTabs(!this.fixedTabs)\n        if (this.fixedTabs) {\n          setTimeout(() => {\n            this.affixed = true\n          }, 200)\n        } else {\n          this.affixed = false\n        }\n      },\n      onTabClick(key) {\n        if (this.active !== key) {\n          this.$emit('change', key)\n        }\n      },\n      onClose(key) {\n        this.$emit('close', key)\n      },\n      onRefresh(page) {\n        this.$emit('refresh', page.path, page)\n      },\n      onContextmenu(pageKey, e) {\n        this.$emit('contextmenu', pageKey, e)\n      },\n      pageName(page) {\n        const pagePath = page.fullPath.split('?')[0]\n        const custom = this.customTitles.find(item => item.path === pagePath)\n        return (custom && custom.title) || page.title || this.$t(getI18nKey(page.keyPath))\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  .tab{\n    margin: 0 -16px;\n    padding: 0 16px;\n    font-size: 14px;\n    user-select: none;\n    transition: all 0.2s;\n    .title{\n      display: inline-block;\n      height: 100%;\n    }\n    .icon-close{\n      font-size: 12px;\n      margin-left: 6px;\n      margin-right: -4px !important;\n      color: @text-color-second;\n      &:hover{\n        color: @text-color;\n      }\n    }\n    .icon-sync{\n      margin-left: -4px;\n      color: @primary-4;\n      transition: all 0.3s ease-in-out;\n      &:hover{\n        color: @primary-color;\n      }\n      font-size: 14px;\n      &.hide{\n        font-size: 0;\n      }\n    }\n  }\n  .tabs-head{\n    margin: 0 auto;\n    &.head.fixed{\n      width: 1400px;\n    }\n  }\n  .tabs-container{\n    margin: -16px auto 8px;\n    transition: top,left 0.2s;\n    .header-lock{\n      font-size: 18px;\n      cursor: pointer;\n      color: @primary-3;\n      &:hover{\n        color: @primary-color;\n      }\n    }\n    &.affixed{\n      margin: 0 auto;\n      top: 0px;\n      padding: 8px 24px 0;\n      position: fixed;\n      height: 48px;\n      z-index: 1;\n      background-color: @layout-body-background;\n      &.side,&.mix{\n        right: 0;\n        left: 256px;\n        &.collapsed{\n          left: 80px;\n        }\n      }\n      &.head{\n        width: inherit;\n        padding: 8px 0 0;\n        &.fluid{\n          left: 0;\n          right: 0;\n          padding: 8px 24px 0;\n        }\n      }\n      &.fixed-header{\n        top: 64px;\n      }\n    }\n  }\n  .virtual-tabs{\n    height: 48px;\n  }\n</style>\n"]}]}