{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsView.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZG1pbkxheW91dCBmcm9tICdAL2xheW91dHMvQWRtaW5MYXlvdXQnCmltcG9ydCBDb250ZXh0bWVudSBmcm9tICdAL2NvbXBvbmVudHMvbWVudS9Db250ZXh0bWVudScKaW1wb3J0IFBhZ2VUb2dnbGVUcmFuc2l0aW9uIGZyb20gJ0AvY29tcG9uZW50cy90cmFuc2l0aW9uL1BhZ2VUb2dnbGVUcmFuc2l0aW9uJwppbXBvcnQge21hcFN0YXRlLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7Z2V0STE4bktleX0gZnJvbSAnQC91dGlscy9yb3V0ZXJVdGlsJwppbXBvcnQgQUtlZXBBbGl2ZSBmcm9tICdAL2NvbXBvbmVudHMvY2FjaGUvQUtlZXBBbGl2ZScKaW1wb3J0IFRhYnNIZWFkIGZyb20gJ0AvbGF5b3V0cy90YWJzL1RhYnNIZWFkJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUYWJzVmlldycsCiAgaTE4bjogcmVxdWlyZSgnLi9pMThuJyksCiAgY29tcG9uZW50czoge1RhYnNIZWFkLCBQYWdlVG9nZ2xlVHJhbnNpdGlvbiwgQ29udGV4dG1lbnUsIEFkbWluTGF5b3V0ICwgQUtlZXBBbGl2ZSB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xlYXJDYWNoZXM6IFtdLAogICAgICBwYWdlTGlzdDogW10sCiAgICAgIGFjdGl2ZVBhZ2U6ICcnLAogICAgICBtZW51VmlzaWJsZTogZmFsc2UsCiAgICAgIHJlZnJlc2hpbmc6IGZhbHNlLAogICAgICBleGNsdWRlS2V5czogW10KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnc2V0dGluZycsIFsnbXVsdGlQYWdlJywgJ2NhY2hlUGFnZScsICdhbmltYXRlJywgJ2xheW91dCcsICdwYWdlV2lkdGgnXSksCiAgICBtZW51SXRlbUxpc3QoKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgeyBrZXk6ICcxJywgaWNvbjogJ3ZlcnRpY2FsLXJpZ2h0JywgdGV4dDogdGhpcy4kdCgnY2xvc2VMZWZ0JykgfSwKICAgICAgICB7IGtleTogJzInLCBpY29uOiAndmVydGljYWwtbGVmdCcsIHRleHQ6IHRoaXMuJHQoJ2Nsb3NlUmlnaHQnKSB9LAogICAgICAgIHsga2V5OiAnMycsIGljb246ICdjbG9zZScsIHRleHQ6IHRoaXMuJHQoJ2Nsb3NlT3RoZXJzJykgfSwKICAgICAgICB7IGtleTogJzQnLCBpY29uOiAnc3luYycsIHRleHQ6IHRoaXMuJHQoJ3JlZnJlc2gnKSB9LAogICAgICBdCiAgICB9LAogICAgdGFic09mZnNldCgpIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlQYWdlID8gMjQgOiAwCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMubG9hZENhY2hlQ29uZmlnKHRoaXMuJHJvdXRlcj8ub3B0aW9ucz8ucm91dGVzKQogICAgdGhpcy5sb2FkQ2FjaGVkVGFicygpCiAgICBjb25zdCByb3V0ZSA9IHRoaXMuJHJvdXRlCiAgICBpZiAodGhpcy5wYWdlTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnBhdGggPT09IHJvdXRlLnBhdGgpID09PSAtMSkgewogICAgICB0aGlzLnBhZ2VMaXN0LnB1c2godGhpcy5jcmVhdGVQYWdlKHJvdXRlKSkKICAgIH0KICAgIHRoaXMuYWN0aXZlUGFnZSA9IHJvdXRlLnBhdGgKICAgIGlmICh0aGlzLm11bHRpUGFnZSkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5zZXRDYWNoZWRLZXkocm91dGUpCiAgICAgIH0pCiAgICAgIHRoaXMuYWRkTGlzdGVuZXIoKQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmNvcnJlY3RQYWdlTWluSGVpZ2h0KC10aGlzLnRhYnNPZmZzZXQpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5yZW1vdmVMaXN0ZW5lcigpCiAgICB0aGlzLmNvcnJlY3RQYWdlTWluSGVpZ2h0KHRoaXMudGFic09mZnNldCkKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlci5vcHRpb25zLnJvdXRlcyc6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdGhpcy5leGNsdWRlS2V5cyA9IFtdCiAgICAgIHRoaXMubG9hZENhY2hlQ29uZmlnKHZhbCkKICAgIH0sCiAgICAnJHJvdXRlJzogZnVuY3Rpb24gKG5ld1JvdXRlKSB7CiAgICAgIHRoaXMuYWN0aXZlUGFnZSA9IG5ld1JvdXRlLnBhdGgKICAgICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZUxpc3QuZmluZChpdGVtID0+IGl0ZW0ucGF0aCA9PT0gbmV3Um91dGUucGF0aCkKICAgICAgaWYgKCF0aGlzLm11bHRpUGFnZSkgewogICAgICAgIHRoaXMucGFnZUxpc3QgPSBbdGhpcy5jcmVhdGVQYWdlKG5ld1JvdXRlKV0KICAgICAgfSBlbHNlIGlmIChwYWdlKSB7CiAgICAgICAgcGFnZS5mdWxsUGF0aCA9IG5ld1JvdXRlLmZ1bGxQYXRoCiAgICAgIH0gZWxzZSBpZiAoIXBhZ2UpIHsKICAgICAgICB0aGlzLnBhZ2VMaXN0LnB1c2godGhpcy5jcmVhdGVQYWdlKG5ld1JvdXRlKSkKICAgICAgfQogICAgICBpZiAodGhpcy5tdWx0aVBhZ2UpIHsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLnNldENhY2hlZEtleShuZXdSb3V0ZSkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgJ211bHRpUGFnZSc6IGZ1bmN0aW9uIChuZXdWYWwpIHsKICAgICAgaWYgKCFuZXdWYWwpIHsKICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gW3RoaXMuY3JlYXRlUGFnZSh0aGlzLiRyb3V0ZSldCiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcigpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcigpCiAgICAgIH0KICAgIH0sCiAgICB0YWJzT2Zmc2V0KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuY29ycmVjdFBhZ2VNaW5IZWlnaHQob2xkVmFsIC0gbmV3VmFsKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlUGFnZSAoa2V5KSB7CiAgICAgIHRoaXMuYWN0aXZlUGFnZSA9IGtleQogICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlTGlzdC5maW5kKGl0ZW0gPT4gaXRlbS5wYXRoID09PSBrZXkpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhZ2UuZnVsbFBhdGgpCiAgICB9LAogICAgcmVtb3ZlIChrZXksIG5leHQpIHsKICAgICAgaWYgKHRoaXMucGFnZUxpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZyh0aGlzLiR0KCd3YXJuJykpCiAgICAgIH0KICAgICAgLy/muIXpmaTnvJPlrZgKICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWdlTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnBhdGggPT09IGtleSkKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IHRoaXMucGFnZUxpc3Quc3BsaWNlKGluZGV4LCAxKS5tYXAocGFnZSA9PiBwYWdlLmNhY2hlZEtleSkKICAgICAgaWYgKG5leHQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChuZXh0KQogICAgICB9IGVsc2UgaWYgKGtleSA9PT0gdGhpcy5hY3RpdmVQYWdlKSB7CiAgICAgICAgaW5kZXggPSBpbmRleCA+PSB0aGlzLnBhZ2VMaXN0Lmxlbmd0aCA/IHRoaXMucGFnZUxpc3QubGVuZ3RoIC0gMSA6IGluZGV4CiAgICAgICAgdGhpcy5hY3RpdmVQYWdlID0gdGhpcy5wYWdlTGlzdFtpbmRleF0ucGF0aAogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWN0aXZlUGFnZSkKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2ggKGtleSwgcGFnZSkgewogICAgICBwYWdlID0gcGFnZSB8fCB0aGlzLnBhZ2VMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLnBhdGggPT09IGtleSkKICAgICAgcGFnZS5sb2FkaW5nID0gdHJ1ZQogICAgICB0aGlzLmNsZWFyQ2FjaGUocGFnZSkKICAgICAgaWYgKGtleSA9PT0gdGhpcy5hY3RpdmVQYWdlKSB7CiAgICAgICAgdGhpcy5yZWxvYWRDb250ZW50KCgpID0+IHBhZ2UubG9hZGluZyA9IGZhbHNlKQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWFtuWunuWIt+aWsOW+iOW/q++8jOWKoOi/meS4quW7tui/n+e6r+eyueS4uuS6hiBsb2FkaW5nIOeKtuaAgeWkmuWxleekuuS4gOS8muWEv++8jOiuqeeUqOaIt+aEn+efpeWIt+aWsOi/meS4gOi/h+eoiwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcGFnZS5sb2FkaW5nID0gZmFsc2UsIDUwMCkKICAgICAgfQogICAgfSwKICAgIG9uQ29udGV4dG1lbnUocGFnZUtleSwgZSkgewogICAgICBpZiAocGFnZUtleSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKQogICAgICAgIGUubWV0YSA9IHBhZ2VLZXkKICAgICAgICB0aGlzLm1lbnVWaXNpYmxlID0gdHJ1ZQogICAgICB9CiAgICB9LAogICAgb25NZW51U2VsZWN0IChrZXksIHRhcmdldCwgcGFnZUtleSkgewogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgJzEnOiB0aGlzLmNsb3NlTGVmdChwYWdlS2V5KTsgYnJlYWsKICAgICAgICBjYXNlICcyJzogdGhpcy5jbG9zZVJpZ2h0KHBhZ2VLZXkpOyBicmVhawogICAgICAgIGNhc2UgJzMnOiB0aGlzLmNsb3NlT3RoZXJzKHBhZ2VLZXkpOyBicmVhawogICAgICAgIGNhc2UgJzQnOiB0aGlzLnJlZnJlc2gocGFnZUtleSk7IGJyZWFrCiAgICAgICAgZGVmYXVsdDogYnJlYWsKICAgICAgfQogICAgfSwKICAgIGNsb3NlT3RoZXJzIChwYWdlS2V5KSB7CiAgICAgIC8vIOa4hemZpOe8k+WtmAogICAgICBjb25zdCBjbGVhclBhZ2VzID0gdGhpcy5wYWdlTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnBhdGggIT09IHBhZ2VLZXkgJiYgIWl0ZW0udW5jbG9zZSkKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGl0ZW0gPT4gaXRlbS5jYWNoZWRLZXkpCiAgICAgIHRoaXMucGFnZUxpc3QgPSB0aGlzLnBhZ2VMaXN0LmZpbHRlcihpdGVtID0+ICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pKQogICAgICAvLyDliKTmlq3ot7PovawKICAgICAgaWYgKHRoaXMuYWN0aXZlUGFnZSAhPSBwYWdlS2V5KSB7CiAgICAgICAgdGhpcy5hY3RpdmVQYWdlID0gcGFnZUtleQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWN0aXZlUGFnZSkKICAgICAgfQogICAgfSwKICAgIGNsb3NlTGVmdCAocGFnZUtleSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFnZUxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5wYXRoID09PSBwYWdlS2V5KQogICAgICAvLyDmuIXpmaTnvJPlrZgKICAgICAgY29uc3QgY2xlYXJQYWdlcyA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKChpdGVtLCBpKSA9PiBpIDwgaW5kZXggJiYgIWl0ZW0udW5jbG9zZSkKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGl0ZW0gPT4gaXRlbS5jYWNoZWRLZXkpCiAgICAgIHRoaXMucGFnZUxpc3QgPSB0aGlzLnBhZ2VMaXN0LmZpbHRlcihpdGVtID0+ICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pKQogICAgICAvLyDliKTmlq3ot7PovawKICAgICAgaWYgKCF0aGlzLnBhZ2VMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLnBhdGggPT09IHRoaXMuYWN0aXZlUGFnZSkpIHsKICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UgPSBwYWdlS2V5CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hY3RpdmVQYWdlKQogICAgICB9CiAgICB9LAogICAgY2xvc2VSaWdodCAocGFnZUtleSkgewogICAgICAvLyDmuIXpmaTnvJPlrZgKICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBhZ2VMaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0ucGF0aCA9PT0gcGFnZUtleSkKICAgICAgY29uc3QgY2xlYXJQYWdlcyA9IHRoaXMucGFnZUxpc3QuZmlsdGVyKChpdGVtLCBpKSA9PiBpID4gaW5kZXggJiYgIWl0ZW0udW5jbG9zZSkKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IGNsZWFyUGFnZXMubWFwKGl0ZW0gPT4gaXRlbS5jYWNoZWRLZXkpCiAgICAgIHRoaXMucGFnZUxpc3QgPSB0aGlzLnBhZ2VMaXN0LmZpbHRlcihpdGVtID0+ICFjbGVhclBhZ2VzLmluY2x1ZGVzKGl0ZW0pKQogICAgICAvLyDliKTmlq3ot7PovawKICAgICAgaWYgKCF0aGlzLnBhZ2VMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLnBhdGggPT09IHRoaXMuYWN0aXZlUGFnZSkpIHsKICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UgPSBwYWdlS2V5CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hY3RpdmVQYWdlKQogICAgICB9CiAgICB9LAogICAgY2xlYXJDYWNoZShwYWdlKSB7CiAgICAgIHBhZ2UuX2luaXRfID0gZmFsc2UKICAgICAgdGhpcy5jbGVhckNhY2hlcyA9IFtwYWdlLmNhY2hlZEtleV0KICAgIH0sCiAgICByZWxvYWRDb250ZW50KG9uTG9hZGVkKSB7CiAgICAgIHRoaXMucmVmcmVzaGluZyA9IHRydWUKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5yZWZyZXNoaW5nID0gZmFsc2UKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLnNldENhY2hlZEtleSh0aGlzLiRyb3V0ZSkKICAgICAgICAgIGlmICh0eXBlb2Ygb25Mb2FkZWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb25Mb2FkZWQuYXBwbHkodGhpcywgW10pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwgMjAwKQogICAgfSwKICAgIHBhZ2VOYW1lKHBhZ2UpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoZ2V0STE4bktleShwYWdlLmtleVBhdGgpKQogICAgfSwKICAgIC8qKgogICAgICog5re75Yqg55uR5ZCs5ZmoCiAgICAgKi8KICAgIGFkZExpc3RlbmVyKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZTpjbG9zZScsIHRoaXMuY2xvc2VQYWdlTGlzdGVuZXIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwYWdlOnJlZnJlc2gnLCB0aGlzLnJlZnJlc2hQYWdlTGlzdGVuZXIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCB0aGlzLnVubG9hZExpc3RlbmVyKQogICAgfSwKICAgIC8qKgogICAgICog56e75Ye655uR5ZCs5ZmoCiAgICAgKi8KICAgIHJlbW92ZUxpc3RlbmVyKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFnZTpjbG9zZScsIHRoaXMuY2xvc2VQYWdlTGlzdGVuZXIpCiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwYWdlOnJlZnJlc2gnLCB0aGlzLnJlZnJlc2hQYWdlTGlzdGVuZXIpCiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1bmxvYWQnLCB0aGlzLnVubG9hZExpc3RlbmVyKQogICAgfSwKICAgIC8qKgogICAgICog6aG1562+5YWz6Zet5LqL5Lu255uR5ZCsCiAgICAgKiBAcGFyYW0gZXZlbnQg6aG1562+5YWz6Zet5LqL5Lu2CiAgICAgKi8KICAgIGNsb3NlUGFnZUxpc3RlbmVyKGV2ZW50KSB7CiAgICAgIGNvbnN0IHtjbG9zZVJvdXRlLCBuZXh0Um91dGV9ID0gZXZlbnQuZGV0YWlsCiAgICAgIGNvbnN0IGNsb3NlUGF0aCA9IHR5cGVvZiBjbG9zZVJvdXRlID09PSAnc3RyaW5nJyA/IGNsb3NlUm91dGUgOiBjbG9zZVJvdXRlLnBhdGgKICAgICAgY29uc3QgcGF0aCA9IGNsb3NlUGF0aCAmJiBjbG9zZVBhdGguc3BsaXQoJz8nKVswXQogICAgICB0aGlzLnJlbW92ZShwYXRoLCBuZXh0Um91dGUpCiAgICB9LAogICAgLyoqCiAgICAgKiDpobXpnaLliLfmlrDkuovku7bnm5HlkKwKICAgICAqIEBwYXJhbSBldmVudCDpobXnrb7lhbPpl63kuovku7YKICAgICAqLwogICAgcmVmcmVzaFBhZ2VMaXN0ZW5lcihldmVudCkgewogICAgICBjb25zdCB7cGFnZUtleX0gPSBldmVudC5kZXRhaWwKICAgICAgY29uc3QgcGF0aCA9IHBhZ2VLZXkgJiYgcGFnZUtleS5zcGxpdCgnPycpWzBdCiAgICAgIHRoaXMucmVmcmVzaChwYXRoKQogICAgfSwKICAgIC8qKgogICAgICog6aG16Z2iIHVubG9hZCDkuovku7bnm5HlkKzlmajvvIzmt7vliqDpobXnrb7liLAgc2Vzc2lvbiDnvJPlrZjvvIznlKjkuo7liLfmlrDml7bkv53nlZnpobXnrb4KICAgICAqLwogICAgdW5sb2FkTGlzdGVuZXIoKSB7CiAgICAgIGNvbnN0IHRhYnMgPSB0aGlzLnBhZ2VMaXN0Lm1hcChpdGVtID0+ICh7Li4uaXRlbSwgX2luaXRfOiBmYWxzZX0pKQogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfVEJBU19LRVksIEpTT04uc3RyaW5naWZ5KHRhYnMpKQogICAgfSwKICAgIGNyZWF0ZVBhZ2Uocm91dGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBrZXlQYXRoOiByb3V0ZS5tYXRjaGVkW3JvdXRlLm1hdGNoZWQubGVuZ3RoIC0gMV0ucGF0aCwKICAgICAgICBmdWxsUGF0aDogcm91dGUuZnVsbFBhdGgsIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHBhdGg6IHJvdXRlLnBhdGgsCiAgICAgICAgdGl0bGU6IHJvdXRlLm1ldGEgJiYgcm91dGUubWV0YS5wYWdlICYmIHJvdXRlLm1ldGEucGFnZS50aXRsZSwKICAgICAgICB1bmNsb3NlOiByb3V0ZS5tZXRhICYmIHJvdXRlLm1ldGEucGFnZSAmJiAocm91dGUubWV0YS5wYWdlLmNsb3NhYmxlID09PSBmYWxzZSksCiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOiuvue9rumhtemdoue8k+WtmOeahGtleQogICAgICogQHBhcmFtIHJvdXRlIOmhtemdouWvueW6lOeahOi3r+eUsQogICAgICovCiAgICBzZXRDYWNoZWRLZXkocm91dGUpIHsKICAgICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZUxpc3QuZmluZChpdGVtID0+IGl0ZW0ucGF0aCA9PT0gcm91dGUucGF0aCkKICAgICAgcGFnZS51bmNsb3NlID0gcm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnBhZ2UgJiYgKHJvdXRlLm1ldGEucGFnZS5jbG9zYWJsZSA9PT0gZmFsc2UpCiAgICAgIGlmICghcGFnZS5faW5pdF8pIHsKICAgICAgICBjb25zdCB2bm9kZSA9IHRoaXMuJHJlZnMudGFiQ29udGVudC4kdm5vZGUKICAgICAgICBwYWdlLmNhY2hlZEtleSA9IHZub2RlLmtleSArIHZub2RlLmNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQKICAgICAgICBwYWdlLl9pbml0XyA9IHRydWUKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog5Yqg6L2957yT5a2Y55qEIHRhYnMKICAgICAqLwogICAgbG9hZENhY2hlZFRhYnMoKSB7CiAgICAgIGNvbnN0IGNhY2hlZFRhYnNTdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfVEJBU19LRVkpCiAgICAgIGlmIChjYWNoZWRUYWJzU3RyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IGNhY2hlZFRhYnMgPSBKU09OLnBhcnNlKGNhY2hlZFRhYnNTdHIpCiAgICAgICAgICBpZiAoY2FjaGVkVGFicy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMucGFnZUxpc3QgPSBjYWNoZWRUYWJzCiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS53YXJuKCdmYWlsZWQgdG8gbG9hZCBjYWNoZWQgdGFicywgZ290IGV4Y2VwdGlvbjonLCBlKQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfVEJBU19LRVkpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbG9hZENhY2hlQ29uZmlnKHJvdXRlcywgcENhY2hlID0gdHJ1ZSkgewogICAgICByb3V0ZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBjb25zdCBjYWNoZUFibGUgPSBpdGVtLm1ldGE/LnBhZ2U/LmNhY2hlQWJsZSA/PyBwQ2FjaGUgPz8gdHJ1ZQogICAgICAgIGlmICghY2FjaGVBYmxlKSB7CiAgICAgICAgICB0aGlzLmV4Y2x1ZGVLZXlzLnB1c2gobmV3IFJlZ0V4cChgJHtpdGVtLnBhdGh9XFxkKyRgKSkKICAgICAgICB9CiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAgIHRoaXMubG9hZENhY2hlQ29uZmlnKGl0ZW0uY2hpbGRyZW4sIGNhY2hlQWJsZSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLi4ubWFwTXV0YXRpb25zKCdzZXR0aW5nJywgWydjb3JyZWN0UGFnZU1pbkhlaWdodCddKQogIH0KfQo="},{"version":3,"sources":["TabsView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabsView.vue","sourceRoot":"src/layouts/tabs","sourcesContent":["<template>\n  <admin-layout>\n    <contextmenu :itemList=\"menuItemList\" :visible.sync=\"menuVisible\" @select=\"onMenuSelect\" />\n    <tabs-head\n        v-if=\"multiPage\"\n        :active=\"activePage\"\n        :page-list=\"pageList\"\n        @change=\"changePage\"\n        @close=\"remove\"\n        @refresh=\"refresh\"\n        @contextmenu=\"onContextmenu\"\n    />\n    <div :class=\"['tabs-view-content', layout, pageWidth]\" :style=\"`margin-top: ${multiPage ? -24 : 0}px`\">\n      <page-toggle-transition :disabled=\"animate.disabled\" :animate=\"animate.name\" :direction=\"animate.direction\">\n        <a-keep-alive :exclude-keys=\"excludeKeys\" v-if=\"multiPage && cachePage\" v-model=\"clearCaches\">\n          <router-view v-if=\"!refreshing\" ref=\"tabContent\" :key=\"$route.path\" />\n        </a-keep-alive>\n        <router-view ref=\"tabContent\" v-else-if=\"!refreshing\" />\n      </page-toggle-transition>\n    </div>\n  </admin-layout>\n</template>\n\n<script>\nimport AdminLayout from '@/layouts/AdminLayout'\nimport Contextmenu from '@/components/menu/Contextmenu'\nimport PageToggleTransition from '@/components/transition/PageToggleTransition'\nimport {mapState, mapMutations} from 'vuex'\nimport {getI18nKey} from '@/utils/routerUtil'\nimport AKeepAlive from '@/components/cache/AKeepAlive'\nimport TabsHead from '@/layouts/tabs/TabsHead'\n\nexport default {\n  name: 'TabsView',\n  i18n: require('./i18n'),\n  components: {TabsHead, PageToggleTransition, Contextmenu, AdminLayout , AKeepAlive },\n  data () {\n    return {\n      clearCaches: [],\n      pageList: [],\n      activePage: '',\n      menuVisible: false,\n      refreshing: false,\n      excludeKeys: []\n    }\n  },\n  computed: {\n    ...mapState('setting', ['multiPage', 'cachePage', 'animate', 'layout', 'pageWidth']),\n    menuItemList() {\n      return [\n        { key: '1', icon: 'vertical-right', text: this.$t('closeLeft') },\n        { key: '2', icon: 'vertical-left', text: this.$t('closeRight') },\n        { key: '3', icon: 'close', text: this.$t('closeOthers') },\n        { key: '4', icon: 'sync', text: this.$t('refresh') },\n      ]\n    },\n    tabsOffset() {\n      return this.multiPage ? 24 : 0\n    }\n  },\n  created () {\n    this.loadCacheConfig(this.$router?.options?.routes)\n    this.loadCachedTabs()\n    const route = this.$route\n    if (this.pageList.findIndex(item => item.path === route.path) === -1) {\n      this.pageList.push(this.createPage(route))\n    }\n    this.activePage = route.path\n    if (this.multiPage) {\n      this.$nextTick(() => {\n        this.setCachedKey(route)\n      })\n      this.addListener()\n    }\n  },\n  mounted () {\n    this.correctPageMinHeight(-this.tabsOffset)\n  },\n  beforeDestroy() {\n    this.removeListener()\n    this.correctPageMinHeight(this.tabsOffset)\n  },\n  watch: {\n    '$router.options.routes': function (val) {\n      this.excludeKeys = []\n      this.loadCacheConfig(val)\n    },\n    '$route': function (newRoute) {\n      this.activePage = newRoute.path\n      const page = this.pageList.find(item => item.path === newRoute.path)\n      if (!this.multiPage) {\n        this.pageList = [this.createPage(newRoute)]\n      } else if (page) {\n        page.fullPath = newRoute.fullPath\n      } else if (!page) {\n        this.pageList.push(this.createPage(newRoute))\n      }\n      if (this.multiPage) {\n        this.$nextTick(() => {\n          this.setCachedKey(newRoute)\n        })\n      }\n    },\n    'multiPage': function (newVal) {\n      if (!newVal) {\n        this.pageList = [this.createPage(this.$route)]\n        this.removeListener()\n      } else {\n        this.addListener()\n      }\n    },\n    tabsOffset(newVal, oldVal) {\n      this.correctPageMinHeight(oldVal - newVal)\n    }\n  },\n  methods: {\n    changePage (key) {\n      this.activePage = key\n      const page = this.pageList.find(item => item.path === key)\n      this.$router.push(page.fullPath)\n    },\n    remove (key, next) {\n      if (this.pageList.length === 1) {\n        return this.$message.warning(this.$t('warn'))\n      }\n      //清除缓存\n      let index = this.pageList.findIndex(item => item.path === key)\n      this.clearCaches = this.pageList.splice(index, 1).map(page => page.cachedKey)\n      if (next) {\n        this.$router.push(next)\n      } else if (key === this.activePage) {\n        index = index >= this.pageList.length ? this.pageList.length - 1 : index\n        this.activePage = this.pageList[index].path\n        this.$router.push(this.activePage)\n      }\n    },\n    refresh (key, page) {\n      page = page || this.pageList.find(item => item.path === key)\n      page.loading = true\n      this.clearCache(page)\n      if (key === this.activePage) {\n        this.reloadContent(() => page.loading = false)\n      } else {\n        // 其实刷新很快，加这个延迟纯粹为了 loading 状态多展示一会儿，让用户感知刷新这一过程\n        setTimeout(() => page.loading = false, 500)\n      }\n    },\n    onContextmenu(pageKey, e) {\n      if (pageKey) {\n        e.preventDefault()\n        e.meta = pageKey\n        this.menuVisible = true\n      }\n    },\n    onMenuSelect (key, target, pageKey) {\n      switch (key) {\n        case '1': this.closeLeft(pageKey); break\n        case '2': this.closeRight(pageKey); break\n        case '3': this.closeOthers(pageKey); break\n        case '4': this.refresh(pageKey); break\n        default: break\n      }\n    },\n    closeOthers (pageKey) {\n      // 清除缓存\n      const clearPages = this.pageList.filter(item => item.path !== pageKey && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (this.activePage != pageKey) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    closeLeft (pageKey) {\n      const index = this.pageList.findIndex(item => item.path === pageKey)\n      // 清除缓存\n      const clearPages = this.pageList.filter((item, i) => i < index && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (!this.pageList.find(item => item.path === this.activePage)) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    closeRight (pageKey) {\n      // 清除缓存\n      const index = this.pageList.findIndex(item => item.path === pageKey)\n      const clearPages = this.pageList.filter((item, i) => i > index && !item.unclose)\n      this.clearCaches = clearPages.map(item => item.cachedKey)\n      this.pageList = this.pageList.filter(item => !clearPages.includes(item))\n      // 判断跳转\n      if (!this.pageList.find(item => item.path === this.activePage)) {\n        this.activePage = pageKey\n        this.$router.push(this.activePage)\n      }\n    },\n    clearCache(page) {\n      page._init_ = false\n      this.clearCaches = [page.cachedKey]\n    },\n    reloadContent(onLoaded) {\n      this.refreshing = true\n      setTimeout(() => {\n        this.refreshing = false\n        this.$nextTick(() => {\n          this.setCachedKey(this.$route)\n          if (typeof onLoaded === 'function') {\n            onLoaded.apply(this, [])\n          }\n        })\n      }, 200)\n    },\n    pageName(page) {\n      return this.$t(getI18nKey(page.keyPath))\n    },\n    /**\n     * 添加监听器\n     */\n    addListener() {\n      window.addEventListener('page:close', this.closePageListener)\n      window.addEventListener('page:refresh', this.refreshPageListener)\n      window.addEventListener('unload', this.unloadListener)\n    },\n    /**\n     * 移出监听器\n     */\n    removeListener() {\n      window.removeEventListener('page:close', this.closePageListener)\n      window.removeEventListener('page:refresh', this.refreshPageListener)\n      window.removeEventListener('unload', this.unloadListener)\n    },\n    /**\n     * 页签关闭事件监听\n     * @param event 页签关闭事件\n     */\n    closePageListener(event) {\n      const {closeRoute, nextRoute} = event.detail\n      const closePath = typeof closeRoute === 'string' ? closeRoute : closeRoute.path\n      const path = closePath && closePath.split('?')[0]\n      this.remove(path, nextRoute)\n    },\n    /**\n     * 页面刷新事件监听\n     * @param event 页签关闭事件\n     */\n    refreshPageListener(event) {\n      const {pageKey} = event.detail\n      const path = pageKey && pageKey.split('?')[0]\n      this.refresh(path)\n    },\n    /**\n     * 页面 unload 事件监听器，添加页签到 session 缓存，用于刷新时保留页签\n     */\n    unloadListener() {\n      const tabs = this.pageList.map(item => ({...item, _init_: false}))\n      sessionStorage.setItem(process.env.VUE_APP_TBAS_KEY, JSON.stringify(tabs))\n    },\n    createPage(route) {\n      return {\n        keyPath: route.matched[route.matched.length - 1].path,\n        fullPath: route.fullPath, loading: false,\n        path: route.path,\n        title: route.meta && route.meta.page && route.meta.page.title,\n        unclose: route.meta && route.meta.page && (route.meta.page.closable === false),\n      }\n    },\n    /**\n     * 设置页面缓存的key\n     * @param route 页面对应的路由\n     */\n    setCachedKey(route) {\n      const page = this.pageList.find(item => item.path === route.path)\n      page.unclose = route.meta && route.meta.page && (route.meta.page.closable === false)\n      if (!page._init_) {\n        const vnode = this.$refs.tabContent.$vnode\n        page.cachedKey = vnode.key + vnode.componentOptions.Ctor.cid\n        page._init_ = true\n      }\n    },\n    /**\n     * 加载缓存的 tabs\n     */\n    loadCachedTabs() {\n      const cachedTabsStr = sessionStorage.getItem(process.env.VUE_APP_TBAS_KEY)\n      if (cachedTabsStr) {\n        try {\n          const cachedTabs = JSON.parse(cachedTabsStr)\n          if (cachedTabs.length > 0) {\n            this.pageList = cachedTabs\n          }\n        } catch (e) {\n          console.warn('failed to load cached tabs, got exception:', e)\n        } finally {\n          sessionStorage.removeItem(process.env.VUE_APP_TBAS_KEY)\n        }\n      }\n    },\n    loadCacheConfig(routes, pCache = true) {\n      routes.forEach(item => {\n        const cacheAble = item.meta?.page?.cacheAble ?? pCache ?? true\n        if (!cacheAble) {\n          this.excludeKeys.push(new RegExp(`${item.path}\\\\d+$`))\n        }\n        if (item.children) {\n          this.loadCacheConfig(item.children, cacheAble)\n        }\n      })\n    },\n    ...mapMutations('setting', ['correctPageMinHeight'])\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .tabs-view{\n    margin: -16px auto 8px;\n    &.head.fixed{\n      max-width: 1400px;\n    }\n  }\n  .tabs-view-content{\n    position: relative;\n    &.head.fixed{\n      width: 1400px;\n      margin: 0 auto;\n    }\n  }\n</style>\n"]}]}