{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\pages\\form\\advance\\UserForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\pages\\form\\advance\\UserForm.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9tYXh6aC9PbmVEcml2ZS9cdTY4NENcdTk3NjIvdnVlLWFudGQtYWRtaW4tbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgY29sdW1ucyA9IFt7CiAgdGl0bGU6ICfmiJDlkZjlp5PlkI0nLAogIGRhdGFJbmRleDogJ25hbWUnLAogIGtleTogJ25hbWUnLAogIHdpZHRoOiAnMjAlJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAnbmFtZScKICB9Cn0sIHsKICB0aXRsZTogJ+W3peWPtycsCiAgZGF0YUluZGV4OiAnbnVtYmVyJywKICBrZXk6ICdudW1iZXInLAogIHdpZHRoOiAnMjAlJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAnbnVtYmVyJwogIH0KfSwgewogIHRpdGxlOiAn5omA5bGe6YOo6ZeoJywKICBkYXRhSW5kZXg6ICdkZXBhcnRtZW50JywKICBrZXk6ICdkZXBhcnRtZW50JywKICB3aWR0aDogJzQwJScsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ2RlcGFydG1lbnQnCiAgfQp9LCB7CiAgdGl0bGU6ICfmk43kvZwnLAogIGtleTogJ29wZXJhdGlvbicsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ29wZXJhdGlvbicKICB9Cn1dOwp2YXIgZGF0YVNvdXJjZSA9IFt7CiAga2V5OiAxLAogIG5hbWU6ICflsI/mmI4nLAogIG51bWJlcjogJzAwMScsCiAgZWRpdGFibGU6IGZhbHNlLAogIGRlcGFydG1lbnQ6ICfooYzmlL/pg6gnCn0sIHsKICBrZXk6IDIsCiAgbmFtZTogJ+adjuiOiScsCiAgbnVtYmVyOiAnMDAyJywKICBlZGl0YWJsZTogZmFsc2UsCiAgZGVwYXJ0bWVudDogJ0lU6YOoJwp9LCB7CiAga2V5OiAzLAogIG5hbWU6ICfnjovlsI/luIUnLAogIG51bWJlcjogJzAwMycsCiAgZWRpdGFibGU6IGZhbHNlLAogIGRlcGFydG1lbnQ6ICfotKLliqHpg6gnCn1dOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJGb3JtJywKICBpMThuOiByZXF1aXJlKCcuL2kxOG4tdXNlcicpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBkYXRhU291cmNlOiBkYXRhU291cmNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGFDb2x1bW5zOiBmdW5jdGlvbiBkYXRhQ29sdW1ucygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHsKICAgICAgICBjb2x1bW4udGl0bGUgPSBfdGhpcy4kdCgndGFibGUuJyArIGNvbHVtbi5rZXkpOwogICAgICAgIHJldHVybiBjb2x1bW47CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgbmV3TWVtYmVyOiBmdW5jdGlvbiBuZXdNZW1iZXIoKSB7CiAgICAgIHRoaXMuZGF0YVNvdXJjZS5wdXNoKHsKICAgICAgICBrZXk6IHRoaXMuZGF0YVNvdXJjZS5sZW5ndGggKyAxLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgZWRpdGFibGU6IHRydWUsCiAgICAgICAgaXNOZXc6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7CiAgICAgIHZhciBuZXdEYXRhID0gdGhpcy5kYXRhU291cmNlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleSAhPT0ga2V5OwogICAgICB9KTsKICAgICAgdGhpcy5kYXRhU291cmNlID0gbmV3RGF0YTsKICAgIH0sCiAgICBzYXZlUm93OiBmdW5jdGlvbiBzYXZlUm93KGtleSkgewogICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5kYXRhU291cmNlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0ga2V5OwogICAgICB9KVswXTsKICAgICAgdGFyZ2V0LmVkaXRhYmxlID0gZmFsc2U7CiAgICAgIHRhcmdldC5pc05ldyA9IGZhbHNlOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGtleSkgewogICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5kYXRhU291cmNlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0ga2V5OwogICAgICB9KVswXTsKICAgICAgdGFyZ2V0LmVkaXRhYmxlID0gIXRhcmdldC5lZGl0YWJsZTsKICAgIH0sCiAgICBnZXRSb3dCeUtleTogZnVuY3Rpb24gZ2V0Um93QnlLZXkoa2V5LCBuZXdEYXRhKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhU291cmNlOwogICAgICByZXR1cm4gKG5ld0RhdGEgfHwgZGF0YSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09PSBrZXk7CiAgICAgIH0pWzBdOwogICAgfSwKICAgIGNhbmNsZTogZnVuY3Rpb24gY2FuY2xlKGtleSkgewogICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5kYXRhU291cmNlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0ga2V5OwogICAgICB9KVswXTsKICAgICAgdGFyZ2V0LmVkaXRhYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUsIGtleSwgY29sdW1uKSB7CiAgICAgIHZhciBuZXdEYXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZGF0YVNvdXJjZSk7CgogICAgICB2YXIgdGFyZ2V0ID0gbmV3RGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4ga2V5ID09PSBpdGVtLmtleTsKICAgICAgfSlbMF07CgogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGFyZ2V0W2NvbHVtbl0gPSB2YWx1ZTsKICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXdEYXRhOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,eACA;AACAA,eADA;AAEAC,mBAFA;AAGAC,aAHA;AAIAC,cAJA;AAKAC;AAAAC;AAAA;AALA,CADA,EAQA;AACAL,aADA;AAEAC,qBAFA;AAGAC,eAHA;AAIAC,cAJA;AAKAC;AAAAC;AAAA;AALA,CARA,EAeA;AACAL,eADA;AAEAC,yBAFA;AAGAC,mBAHA;AAIAC,cAJA;AAKAC;AAAAC;AAAA;AALA,CAfA,EAsBA;AACAL,aADA;AAEAE,kBAFA;AAGAE;AAAAC;AAAA;AAHA,CAtBA;AA6BA,kBACA;AACAH,QADA;AAEAI,YAFA;AAGAC,eAHA;AAIAC,iBAJA;AAKAC;AALA,CADA,EAQA;AACAP,QADA;AAEAI,YAFA;AAGAC,eAHA;AAIAC,iBAJA;AAKAC;AALA,CARA,EAeA;AACAP,QADA;AAEAI,aAFA;AAGAC,eAHA;AAIAC,iBAJA;AAKAC;AALA,CAfA;AAwBA;AACAH,kBADA;AAEAI,8BAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,sBADA;AAEAC;AAFA;AAIA,GARA;AASAC;AACAC,eADA,yBACA;AAAA;;AACA;AACAC;AACA;AACA,OAHA;AAIA;AANA,GATA;AAiBAC;AACAC,gBADA,wBACAC,CADA,EACA;AACAA;AACA,KAHA;AAIAC,aAJA,uBAIA;AACA;AACAlB,uCADA;AAEAI,gBAFA;AAGAC,kBAHA;AAIAE,sBAJA;AAKAD,sBALA;AAMAa;AANA;AAQA,KAbA;AAcAC,UAdA,kBAcApB,GAdA,EAcA;AACA;AAAA;AAAA;AACA;AACA,KAjBA;AAkBAqB,WAlBA,mBAkBArB,GAlBA,EAkBA;AACA;AAAA;AAAA;AACAsB;AACAA;AACA,KAtBA;AAuBAC,UAvBA,kBAuBAvB,GAvBA,EAuBA;AACA;AAAA;AAAA;AACAsB;AACA,KA1BA;AA2BAE,eA3BA,uBA2BAxB,GA3BA,EA2BAyB,OA3BA,EA2BA;AACA;AACA;AAAA;AAAA;AACA,KA9BA;AA+BAC,UA/BA,kBA+BA1B,GA/BA,EA+BA;AACA;AAAA;AAAA;AACAsB;AACA,KAlCA;AAmCAK,gBAnCA,wBAmCAC,KAnCA,EAmCA5B,GAnCA,EAmCAc,MAnCA,EAmCA;AACA;;AACA;AAAA;AAAA;;AACA;AACAQ;AACA;AACA;AACA;AA1CA;AAjBA","names":["title","dataIndex","key","width","scopedSlots","customRender","name","number","editable","department","i18n","data","columns","dataSource","computed","dataColumns","column","methods","handleSubmit","e","newMember","isNew","remove","saveRow","target","toggle","getRowByKey","newData","cancle","handleChange","value"],"sourceRoot":"src/pages/form/advance","sources":["UserForm.vue"],"sourcesContent":["<template>\n  <form :autoFormCreate=\"(form) => this.form = form\">\n    <a-table\n      :columns=\"dataColumns\"\n      :dataSource=\"dataSource\"\n      :pagination=\"false\"\n    >\n      <template  v-for=\"(col, i) in ['name', 'number', 'department']\" :slot=\"col\" slot-scope=\"text, record\">\n          <a-input\n            :key=\"col\"\n            v-if=\"record.editable\"\n            style=\"margin: -5px 0\"\n            :value=\"text\"\n            :placeholder=\"columns[i].title\"\n            @change=\"e => handleChange(e.target.value, record.key, col)\"\n          />\n          <template v-else>{{text}}</template>\n      </template>\n      <template slot=\"operation\" slot-scope=\"text, record\">\n        <template v-if=\"record.editable\">\n          <span v-if=\"record.isNew\">\n            <a @click=\"saveRow(record.key)\">{{$t('add')}}</a>\n            <a-divider type=\"vertical\" />\n            <a-popconfirm :title=\"$t('deleteConfirm')\" @confirm=\"remove(record.key)\">\n              <a>{{$t('delete')}}</a>\n            </a-popconfirm>\n          </span>\n            <span v-else>\n            <a @click=\"saveRow(record.key)\">{{$t('save')}}</a>\n            <a-divider type=\"vertical\" />\n            <a @click=\"cancle(record.key)\">{{$t('cancel')}}</a>\n          </span>\n        </template>\n        <span v-else>\n          <a @click=\"toggle(record.key)\">{{$t('edit')}}</a>\n          <a-divider type=\"vertical\" />\n          <a-popconfirm :title=\"$t('deleteConfirm')\" @confirm=\"remove(record.key)\">\n            <a>{{$t('delete')}}</a>\n          </a-popconfirm>\n        </span>\n      </template>\n    </a-table>\n    <a-button style=\"width: 100%; margin-top: 16px; margin-bottom: 8px\" type=\"dashed\" icon=\"plus\" @click=\"newMember\">{{$t('newMember')}}</a-button>\n  </form>\n</template>\n\n<script>\nconst columns = [\n  {\n    title: '成员姓名',\n    dataIndex: 'name',\n    key: 'name',\n    width: '20%',\n    scopedSlots: { customRender: 'name' }\n  },\n  {\n    title: '工号',\n    dataIndex: 'number',\n    key: 'number',\n    width: '20%',\n    scopedSlots: { customRender: 'number' }\n  },\n  {\n    title: '所属部门',\n    dataIndex: 'department',\n    key: 'department',\n    width: '40%',\n    scopedSlots: { customRender: 'department' }\n  },\n  {\n    title: '操作',\n    key: 'operation',\n    scopedSlots: { customRender: 'operation' }\n  }\n]\n\nconst dataSource = [\n  {\n    key: 1,\n    name: '小明',\n    number: '001',\n    editable: false,\n    department: '行政部'\n  },\n  {\n    key: 2,\n    name: '李莉',\n    number: '002',\n    editable: false,\n    department: 'IT部'\n  },\n  {\n    key: 3,\n    name: '王小帅',\n    number: '003',\n    editable: false,\n    department: '财务部'\n  }\n]\n\nexport default {\n  name: 'UserForm',\n  i18n: require('./i18n-user'),\n  data () {\n    return {\n      columns,\n      dataSource\n    }\n  },\n  computed: {\n    dataColumns() {\n      return this.columns.map(column => {\n        column.title = this.$t('table.' + column.key)\n        return column\n      })\n    }\n  },\n  methods: {\n    handleSubmit (e) {\n      e.preventDefault()\n    },\n    newMember () {\n      this.dataSource.push({\n        key: this.dataSource.length + 1,\n        name: '',\n        number: '',\n        department: '',\n        editable: true,\n        isNew: true\n      })\n    },\n    remove (key) {\n      const newData = this.dataSource.filter(item => item.key !== key)\n      this.dataSource = newData\n    },\n    saveRow (key) {\n      let target = this.dataSource.filter(item => item.key === key)[0]\n      target.editable = false\n      target.isNew = false\n    },\n    toggle (key) {\n      let target = this.dataSource.filter(item => item.key === key)[0]\n      target.editable = !target.editable\n    },\n    getRowByKey (key, newData) {\n      const data = this.dataSource\n      return (newData || data).filter(item => item.key === key)[0]\n    },\n    cancle (key) {\n      let target = this.dataSource.filter(item => item.key === key)[0]\n      target.editable = false\n    },\n    handleChange (value, key, column) {\n      const newData = [...this.dataSource]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        target[column] = value\n        this.dataSource = newData\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}