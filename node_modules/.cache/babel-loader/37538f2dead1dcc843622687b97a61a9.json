{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsHead.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\tabs\\TabsHead.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWF4emgvT25lRHJpdmUvXHU2ODRDXHU5NzYyL3Z1ZS1hbnRkLWFkbWluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEkxOG5LZXkgfSBmcm9tICdAL3V0aWxzL3JvdXRlclV0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYnNIZWFkJywKICBpMThuOiB7CiAgICBtZXNzYWdlczogewogICAgICBDTjogewogICAgICAgIGxvY2s6ICfngrnlh7vplIHlrprpobXnrb7lpLQnLAogICAgICAgIHVubG9jazogJ+eCueWHu+ino+mZpOmUgeWumicKICAgICAgfSwKICAgICAgSEs6IHsKICAgICAgICBsb2NrOiAn6bue5pOK6Y6W5a6a6aCB57C96aCtJywKICAgICAgICB1bmxvY2s6ICfpu57mk4rop6PpmaTpjpblrponCiAgICAgIH0sCiAgICAgIFVTOiB7CiAgICAgICAgbG9jazogJ2NsaWNrIHRvIGxvY2sgdGhlIHRhYnMgaGVhZCcsCiAgICAgICAgdW5sb2NrOiAnY2xpY2sgdG8gdW5sb2NrJwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgcGFnZUxpc3Q6IEFycmF5LAogICAgYWN0aXZlOiBTdHJpbmcsCiAgICBmaXhlZDogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFmZml4ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgaW5qZWN0OiBbJ2FkbWluTGF5b3V0J10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYWZmaXhlZCA9IHRoaXMuZml4ZWRUYWJzOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ2xheW91dCcsICdwYWdlV2lkdGgnLCAnZml4ZWRIZWFkZXInLCAnZml4ZWRUYWJzJywgJ2N1c3RvbVRpdGxlcyddKSksIHt9LCB7CiAgICBsb2NrVGl0bGU6IGZ1bmN0aW9uIGxvY2tUaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQodGhpcy5maXhlZFRhYnMgPyAndW5sb2NrJyA6ICdsb2NrJyk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoJ3NldHRpbmcnLCBbJ3NldEZpeGVkVGFicyddKSksIHt9LCB7CiAgICBvbkxvY2tDbGljazogZnVuY3Rpb24gb25Mb2NrQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNldEZpeGVkVGFicyghdGhpcy5maXhlZFRhYnMpOwoKICAgICAgaWYgKHRoaXMuZml4ZWRUYWJzKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5hZmZpeGVkID0gdHJ1ZTsKICAgICAgICB9LCAyMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWZmaXhlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25UYWJDbGljazogZnVuY3Rpb24gb25UYWJDbGljayhrZXkpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlICE9PSBrZXkpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBrZXkpOwogICAgICB9CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZShrZXkpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnLCBrZXkpOwogICAgfSwKICAgIG9uUmVmcmVzaDogZnVuY3Rpb24gb25SZWZyZXNoKHBhZ2UpIHsKICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcsIHBhZ2UucGF0aCwgcGFnZSk7CiAgICB9LAogICAgb25Db250ZXh0bWVudTogZnVuY3Rpb24gb25Db250ZXh0bWVudShwYWdlS2V5LCBlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbnRleHRtZW51JywgcGFnZUtleSwgZSk7CiAgICB9LAogICAgcGFnZU5hbWU6IGZ1bmN0aW9uIHBhZ2VOYW1lKHBhZ2UpIHsKICAgICAgdmFyIHBhZ2VQYXRoID0gcGFnZS5mdWxsUGF0aC5zcGxpdCgnPycpWzBdOwogICAgICB2YXIgY3VzdG9tID0gdGhpcy5jdXN0b21UaXRsZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHBhZ2VQYXRoOwogICAgICB9KTsKICAgICAgcmV0dXJuIGN1c3RvbSAmJiBjdXN0b20udGl0bGUgfHwgcGFnZS50aXRsZSB8fCB0aGlzLiR0KGdldEkxOG5LZXkocGFnZS5rZXlQYXRoKSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AAEA;AACAA,kBADA;AAEAC;AACAC;AACAC;AACAC,uBADA;AAEAC;AAFA,OADA;AAKAC;AACAF,uBADA;AAEAC;AAFA,OALA;AASAE;AACAH,2CADA;AAEAC;AAFA;AATA;AADA,GAFA;AAkBAG;AACAC,mBADA;AAEAC,kBAFA;AAGAC;AAHA,GAlBA;AAuBAC,MAvBA,kBAuBA;AACA;AACAC;AADA;AAGA,GA3BA;AA4BAC,yBA5BA;AA6BAC,SA7BA,qBA6BA;AACA;AACA,GA/BA;AAgCAC,4CACAC,wFADA;AAEAC,aAFA,uBAEA;AACA;AACA;AAJA,IAhCA;AAsCAC,2CACAC,yCADA;AAEAC,eAFA,yBAEA;AAAA;;AACA;;AACA;AACAC;AACA;AACA,SAFA,EAEA,GAFA;AAGA,OAJA,MAIA;AACA;AACA;AACA,KAXA;AAYAC,cAZA,sBAYAC,GAZA,EAYA;AACA;AACA;AACA;AACA,KAhBA;AAiBAC,WAjBA,mBAiBAD,GAjBA,EAiBA;AACA;AACA,KAnBA;AAoBAE,aApBA,qBAoBAC,IApBA,EAoBA;AACA;AACA,KAtBA;AAuBAC,iBAvBA,yBAuBAC,OAvBA,EAuBAC,CAvBA,EAuBA;AACA;AACA,KAzBA;AA0BAC,YA1BA,oBA0BAJ,IA1BA,EA0BA;AACA;AACA;AAAA;AAAA;AACA;AACA;AA9BA;AAtCA","names":["name","i18n","messages","CN","lock","unlock","HK","US","props","pageList","active","fixed","data","affixed","inject","created","computed","mapState","lockTitle","methods","mapMutations","onLockClick","setTimeout","onTabClick","key","onClose","onRefresh","page","onContextmenu","pageKey","e","pageName"],"sourceRoot":"src/layouts/tabs","sources":["TabsHead.vue"],"sourcesContent":["<template>\n  <div :class=\"['tabs-head', layout, pageWidth]\">\n    <a-tabs\n        type=\"editable-card\"\n        :class=\"['tabs-container', layout, pageWidth, {'affixed' : affixed, 'fixed-header' : fixedHeader, 'collapsed' : adminLayout.collapsed}]\"\n        :active-key=\"active\"\n        :hide-add=\"true\"\n    >\n      <a-tooltip placement=\"left\" :title=\"lockTitle\" slot=\"tabBarExtraContent\">\n        <a-icon\n            theme=\"filled\"\n            @click=\"onLockClick\"\n            class=\"header-lock\"\n            :type=\"fixedTabs ? 'lock' : 'unlock'\"\n        />\n      </a-tooltip>\n      <a-tab-pane v-for=\"page in pageList\" :key=\"page.path\">\n        <div slot=\"tab\" class=\"tab\" @contextmenu=\"e => onContextmenu(page.path, e)\">\n          <a-icon @click=\"onRefresh(page)\" :class=\"['icon-sync', {'hide': page.path !== active && !page.loading}]\" :type=\"page.loading ? 'loading' : 'sync'\" />\n          <div class=\"title\" @click=\"onTabClick(page.path)\" >{{pageName(page)}}</div>\n          <a-icon v-if=\"!page.unclose\" @click=\"onClose(page.path)\" class=\"icon-close\" type=\"close\"/>\n        </div>\n      </a-tab-pane>\n    </a-tabs>\n    <div v-if=\"affixed\" class=\"virtual-tabs\"></div>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapMutations} from 'vuex'\n  import {getI18nKey} from '@/utils/routerUtil'\n\n  export default {\n    name: 'TabsHead',\n    i18n: {\n      messages: {\n        CN: {\n          lock: '点击锁定页签头',\n          unlock: '点击解除锁定',\n        },\n        HK: {\n          lock: '點擊鎖定頁簽頭',\n          unlock: '點擊解除鎖定',\n        },\n        US: {\n          lock: 'click to lock the tabs head',\n          unlock: 'click to unlock',\n        }\n      }\n    },\n    props: {\n      pageList: Array,\n      active: String,\n      fixed: Boolean\n    },\n    data() {\n      return {\n        affixed: false,\n      }\n    },\n    inject:['adminLayout'],\n    created() {\n      this.affixed = this.fixedTabs\n    },\n    computed: {\n      ...mapState('setting', ['layout', 'pageWidth', 'fixedHeader', 'fixedTabs', 'customTitles']),\n      lockTitle() {\n        return this.$t(this.fixedTabs ? 'unlock' : 'lock')\n      }\n    },\n    methods: {\n      ...mapMutations('setting', ['setFixedTabs']),\n      onLockClick() {\n        this.setFixedTabs(!this.fixedTabs)\n        if (this.fixedTabs) {\n          setTimeout(() => {\n            this.affixed = true\n          }, 200)\n        } else {\n          this.affixed = false\n        }\n      },\n      onTabClick(key) {\n        if (this.active !== key) {\n          this.$emit('change', key)\n        }\n      },\n      onClose(key) {\n        this.$emit('close', key)\n      },\n      onRefresh(page) {\n        this.$emit('refresh', page.path, page)\n      },\n      onContextmenu(pageKey, e) {\n        this.$emit('contextmenu', pageKey, e)\n      },\n      pageName(page) {\n        const pagePath = page.fullPath.split('?')[0]\n        const custom = this.customTitles.find(item => item.path === pagePath)\n        return (custom && custom.title) || page.title || this.$t(getI18nKey(page.keyPath))\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  .tab{\n    margin: 0 -16px;\n    padding: 0 16px;\n    font-size: 14px;\n    user-select: none;\n    transition: all 0.2s;\n    .title{\n      display: inline-block;\n      height: 100%;\n    }\n    .icon-close{\n      font-size: 12px;\n      margin-left: 6px;\n      margin-right: -4px !important;\n      color: @text-color-second;\n      &:hover{\n        color: @text-color;\n      }\n    }\n    .icon-sync{\n      margin-left: -4px;\n      color: @primary-4;\n      transition: all 0.3s ease-in-out;\n      &:hover{\n        color: @primary-color;\n      }\n      font-size: 14px;\n      &.hide{\n        font-size: 0;\n      }\n    }\n  }\n  .tabs-head{\n    margin: 0 auto;\n    &.head.fixed{\n      width: 1400px;\n    }\n  }\n  .tabs-container{\n    margin: -16px auto 8px;\n    transition: top,left 0.2s;\n    .header-lock{\n      font-size: 18px;\n      cursor: pointer;\n      color: @primary-3;\n      &:hover{\n        color: @primary-color;\n      }\n    }\n    &.affixed{\n      margin: 0 auto;\n      top: 0px;\n      padding: 8px 24px 0;\n      position: fixed;\n      height: 48px;\n      z-index: 1;\n      background-color: @layout-body-background;\n      &.side,&.mix{\n        right: 0;\n        left: 256px;\n        &.collapsed{\n          left: 80px;\n        }\n      }\n      &.head{\n        width: inherit;\n        padding: 8px 0 0;\n        &.fluid{\n          left: 0;\n          right: 0;\n          padding: 8px 24px 0;\n        }\n      }\n      &.fixed-header{\n        top: 64px;\n      }\n    }\n  }\n  .virtual-tabs{\n    height: 48px;\n  }\n</style>\n"]}]}