{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\checkbox\\ImgCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\checkbox\\ImgCheckbox.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIEdyb3VwID0gewogIG5hbWU6ICdJbWdDaGVja2JveEdyb3VwJywKICBwcm9wczogewogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRlZmF1bHRWYWx1ZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsdWVzOiBbXSwKICAgICAgb3B0aW9uczogW10KICAgIH07CiAgfSwKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JvdXBDb250ZXh0OiB0aGlzCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICd2YWx1ZXMnOiBmdW5jdGlvbiB2YWx1ZXModmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpOyAvLyAvLyDmraTmnaHku7bmmK/kuLrop6PlhrPljZXpgInml7bvvIzop6blj5HkuKTmrKFjaGFuZ+S6i+S7tumXrumimAogICAgICAvLyBpZiAoIShuZXdWYWwubGVuZ3RoID09PSAxICYmIG9sZFZhbC5sZW5ndGggPT09IDEgJiYgbmV3VmFsWzBdID09PSBvbGRWYWxbMF0pKSB7CiAgICAgIC8vICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZXMpCiAgICAgIC8vIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKG9wdGlvbikgewogICAgICBpZiAoIW9wdGlvbi5jaGVja2VkKSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmluZGV4T2Yob3B0aW9uLnZhbHVlKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbSAhPSBvcHRpb24udmFsdWU7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtvcHRpb24udmFsdWVdOwogICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgIT0gb3B0aW9uLnZhbHVlKSB7CiAgICAgICAgICAgICAgaXRlbS5zQ2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy52YWx1ZXMucHVzaChvcHRpb24udmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6IGZsZXgnCiAgICAgIH0KICAgIH0sIFt0aGlzLiRzbG90cy5kZWZhdWx0XSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ltZ0NoZWNrYm94JywKICBHcm91cDogR3JvdXAsCiAgcHJvcHM6IHsKICAgIGNoZWNrZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGltZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0aXRsZTogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc0NoZWNrZWQ6IHRoaXMuaW5pdENoZWNrZWQoKQogICAgfTsKICB9LAogIGluamVjdDogWydncm91cENvbnRleHQnXSwKICB3YXRjaDogewogICAgJ3NDaGVja2VkJzogZnVuY3Rpb24gc0NoZWNrZWQoKSB7CiAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsCiAgICAgICAgY2hlY2tlZDogdGhpcy5zQ2hlY2tlZAogICAgICB9OwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBvcHRpb24pOwogICAgICB2YXIgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQ7CgogICAgICBpZiAoZ3JvdXBDb250ZXh0KSB7CiAgICAgICAgZ3JvdXBDb250ZXh0LmhhbmRsZUNoYW5nZShvcHRpb24pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0OwoKICAgIGlmIChncm91cENvbnRleHQpIHsKICAgICAgdGhpcy5zQ2hlY2tlZCA9IGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzLmxlbmd0aCA+IDAgPyBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlcy5pbmRleE9mKHRoaXMudmFsdWUpID49IDAgOiB0aGlzLnNDaGVja2VkOwogICAgICBncm91cENvbnRleHQub3B0aW9ucy5wdXNoKHRoaXMpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIGlmICh0aGlzLmdyb3VwQ29udGV4dC5tdWx0aXBsZSB8fCAhdGhpcy5zQ2hlY2tlZCkgewogICAgICAgIHRoaXMuc0NoZWNrZWQgPSAhdGhpcy5zQ2hlY2tlZDsKICAgICAgfQogICAgfSwKICAgIGluaXRDaGVja2VkOiBmdW5jdGlvbiBpbml0Q2hlY2tlZCgpIHsKICAgICAgdmFyIGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0OwoKICAgICAgaWYgKCFncm91cENvbnRleHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkOwogICAgICB9IGVsc2UgaWYgKGdyb3VwQ29udGV4dC5tdWx0aXBsZSkgewogICAgICAgIHJldHVybiBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlcy5pbmRleE9mKHRoaXMudmFsdWUpID4gLTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzWzBdID09IHRoaXMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;AAYA;AACAA,0BADA;AAEAC;AACAC;AACAC,mBADA;AAEAC,qBAFA;AAGAC;AAHA,KADA;AAMAC;AACAH,iBADA;AAEAC,qBAFA;AAGAC;AAAA;AAAA;AAHA;AANA,GAFA;AAcAE,MAdA,kBAcA;AACA;AACAC,gBADA;AAEAC;AAFA;AAIA,GAnBA;AAoBAC,SApBA,qBAoBA;AACA;AACAC;AADA;AAGA,GAxBA;AAyBAC;AACA;AACA,kCADA,CAEA;AACA;AACA;AACA;AACA;AAPA,GAzBA;AAkCAC;AACAC,gBADA,wBACAC,MADA,EACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACAC;AACA;AACA,WAJA;AAKA,SAPA,MAOA;AACA;AACA;AACA;AACA;AAlBA,GAlCA;AAsDAC,QAtDA,kBAsDAC,CAtDA,EAsDA;AACA,aACA,KADA,EAEA;AACAC;AAAAC;AAAA;AADA,KAFA,EAKA,qBALA;AAOA;AA9DA;AAiEA;AACApB,qBADA;AAEAqB,cAFA;AAGApB;AACAqB;AACAnB,mBADA;AAEAC,qBAFA;AAGAC;AAHA,KADA;AAMAkB;AACApB,kBADA;AAEAC;AAFA,KANA;AAUAoB;AACApB;AADA,KAVA;AAaAqB;AAbA,GAHA;AAkBAlB,MAlBA,kBAkBA;AACA;AACAmB;AADA;AAGA,GAtBA;AAuBAC,0BAvBA;AAwBAf;AACA;AACA;AACAY,yBADA;AAEAF;AAFA;AAIA;AACA;;AACA;AACAX;AACA;AACA;AAXA,GAxBA;AAqCAiB,SArCA,qBAqCA;AACA;;AACA;AACA;AACAjB;AACA;AACA,GA3CA;AA4CAE;AACAgB,UADA,oBACA;AACA;AACA;AACA;AACA,KALA;AAMAC,eANA,yBAMA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AAfA;AA5CA","names":["name","props","multiple","type","required","default","defaultValues","data","values","options","provide","groupContext","watch","methods","handleChange","option","item","render","h","attrs","style","Group","checked","img","value","title","sChecked","inject","created","toggle","initChecked"],"sourceRoot":"src/components/checkbox","sources":["ImgCheckbox.vue"],"sourcesContent":["<template>\n  <a-tooltip :title=\"title\" :overlayStyle=\"{zIndex: 2001}\">\n    <div class=\"img-check-box\" @click=\"toggle\">\n      <img :src=\"img\" />\n      <div v-if=\"sChecked\" class=\"check-item\">\n        <a-icon type=\"check\" />\n      </div>\n    </div>\n  </a-tooltip>\n</template>\n\n<script>\nconst Group = {\n  name: 'ImgCheckboxGroup',\n  props: {\n    multiple: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    defaultValues: {\n      type: Array,\n      required: false,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      values: [],\n      options: []\n    }\n  },\n  provide () {\n    return {\n      groupContext: this\n    }\n  },\n  watch: {\n    'values': function (value) {\n      this.$emit('change', value)\n      // // 此条件是为解决单选时，触发两次chang事件问题\n      // if (!(newVal.length === 1 && oldVal.length === 1 && newVal[0] === oldVal[0])) {\n      //   this.$emit('change', this.values)\n      // }\n    }\n  },\n  methods: {\n    handleChange (option) {\n      if (!option.checked) {\n        if (this.values.indexOf(option.value) > -1) {\n          this.values = this.values.filter(item => item != option.value)\n        }\n      } else {\n        if (!this.multiple) {\n          this.values = [option.value]\n          this.options.forEach(item => {\n            if (item.value != option.value) {\n              item.sChecked = false\n            }\n          })\n        } else {\n          this.values.push(option.value)\n        }\n      }\n    }\n  },\n  render (h) {\n    return h(\n      'div',\n      {\n        attrs: {style: 'display: flex'}\n      },\n      [this.$slots.default]\n    )\n  }\n}\n\nexport default {\n  name: 'ImgCheckbox',\n  Group,\n  props: {\n    checked: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    img: {\n      type: String,\n      required: true\n    },\n    value: {\n      required: true\n    },\n    title: String\n  },\n  data () {\n    return {\n      sChecked: this.initChecked()\n    }\n  },\n  inject: ['groupContext'],\n  watch: {\n    'sChecked': function () {\n      const option = {\n        value: this.value,\n        checked: this.sChecked\n      }\n      this.$emit('change', option)\n      const groupContext = this.groupContext\n      if (groupContext) {\n        groupContext.handleChange(option)\n      }\n    }\n  },\n  created () {\n    const groupContext = this.groupContext\n    if (groupContext) {\n      this.sChecked = groupContext.defaultValues.length > 0 ? groupContext.defaultValues.indexOf(this.value) >= 0 : this.sChecked\n      groupContext.options.push(this)\n    }\n  },\n  methods: {\n    toggle () {\n      if (this.groupContext.multiple || !this.sChecked) {\n        this.sChecked = !this.sChecked\n      }\n    },\n    initChecked() {\n      let groupContext = this.groupContext\n      if (!groupContext) {\n        return this.checked\n      }else if (groupContext.multiple) {\n        return groupContext.defaultValues.indexOf(this.value) > -1\n      } else {\n        return groupContext.defaultValues[0] == this.value\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .img-check-box{\n    margin-right: 16px;\n    position: relative;\n    border-radius: 4px;\n    cursor: pointer;\n    .check-item{\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 100%;\n      padding-top: 15px;\n      padding-left: 24px;\n      height: 100%;\n      color: @primary-color;\n      font-size: 14px;\n      font-weight: bold;\n    }\n  }\n</style>\n"]}]}