{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\table\\advance\\AdvanceTable.vue?vue&type=style&index=0&id=304c49aa&scoped=true&lang=less&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\components\\table\\advance\\AdvanceTable.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYWR2YW5jZWQtdGFibGV7CiAgb3ZlcmZsb3cteTogYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiBAY29tcG9uZW50LWJhY2tncm91bmQ7CiAgLmhlYWRlci1iYXJ7CiAgICBwYWRkaW5nOiAxNnB4IDI0cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgJi5taWRkbGV7CiAgICAgIHBhZGRpbmc6IDEycHggMTZweDsKICAgIH0KICAgICYuc21hbGx7CiAgICAgIHBhZGRpbmc6IDhweCAxMnB4OwogICAgICBib3JkZXI6IDFweCBzb2xpZCBAYm9yZGVyLWNvbG9yOwogICAgICBib3JkZXItYm90dG9tOiAwOwogICAgICAudGl0bGV7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICB9CiAgICB9CiAgICAudGl0bGV7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgIGNvbG9yOiBAdGl0bGUtY29sb3I7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICB9CiAgICAuc2VhcmNoewogICAgICBmbGV4OiAxOwogICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgbWFyZ2luOiAwIDI0cHg7CiAgICB9CiAgICAuYWN0aW9uc3sKICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgIGZvbnQtc2l6ZTogMTdweDsKICAgICAgY29sb3I6IEB0ZXh0LWNvbG9yOwogICAgICAuYWN0aW9uewogICAgICAgIG1hcmdpbjogMCA4cHg7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICY6aG92ZXJ7CiAgICAgICAgICBjb2xvcjogQHByaW1hcnktY29sb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AdvanceTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdvanceTable.vue","sourceRoot":"src/components/table/advance","sourcesContent":["<template>\n  <div ref=\"table\" :id=\"id\" class=\"advanced-table\">\n    <a-spin :spinning=\"loading\">\n    <div :class=\"['header-bar', size]\">\n      <div class=\"title\">\n        <template v-if=\"title\">{{title}}</template>\n        <slot v-else-if=\"$slots.title\" name=\"title\"></slot>\n        <template v-else>高级表格</template>\n      </div>\n      <div class=\"search\">\n        <search-area :format-conditions=\"formatConditions\" @change=\"onSearchChange\" :columns=\"columns\" >\n          <template :slot=\"slot\" v-for=\"slot in slots\">\n            <slot :name=\"slot\"></slot>\n          </template>\n        </search-area>\n      </div>\n      <div class=\"actions\">\n        <a-tooltip title=\"刷新\">\n          <a-icon @click=\"refresh\" class=\"action\" :type=\"loading ? 'loading' : 'reload'\" />\n        </a-tooltip>\n        <action-size v-model=\"sSize\" class=\"action\" />\n        <a-tooltip title=\"列配置\">\n          <action-columns :columns=\"columns\" @reset=\"onColumnsReset\" class=\"action\">\n            <template :slot=\"slot\" v-for=\"slot in slots\">\n              <slot :name=\"slot\"></slot>\n            </template>\n          </action-columns>\n        </a-tooltip>\n        <a-tooltip title=\"全屏\">\n          <a-icon @click=\"toggleScreen\" class=\"action\" :type=\"fullScreen ? 'fullscreen-exit' : 'fullscreen'\" />\n        </a-tooltip>\n      </div>\n    </div>\n    <a-table\n      v-bind=\"{...$props, columns: visibleColumns, title: undefined, loading: false}\"\n      :size=\"sSize\"\n      @expandedRowsChange=\"onExpandedRowsChange\"\n      @change=\"onChange\"\n      @expand=\"onExpand\"\n    >\n      <template slot-scope=\"text, record, index\" :slot=\"slot\" v-for=\"slot in scopedSlots \">\n        <slot :name=\"slot\" v-bind=\"{text, record, index}\"></slot>\n      </template>\n      <template :slot=\"slot\" v-for=\"slot in slots\">\n        <slot :name=\"slot\"></slot>\n      </template>\n      <template slot-scope=\"record, index, indent, expanded\" :slot=\"$scopedSlots.expandedRowRender ? 'expandedRowRender' : ''\">\n        <slot v-bind=\"{record, index, indent, expanded}\" :name=\"$scopedSlots.expandedRowRender ? 'expandedRowRender' : ''\"></slot>\n      </template>\n    </a-table>\n    </a-spin>\n  </div>\n</template>\n\n<script>\n  import ActionSize from '@/components/table/advance/ActionSize'\n  import ActionColumns from '@/components/table/advance/ActionColumns'\n  import SearchArea from '@/components/table/advance/SearchArea'\n  export default {\n    name: 'AdvanceTable',\n    components: {SearchArea, ActionColumns, ActionSize},\n    props: {\n      tableLayout: String,\n      bordered: Boolean,\n      childrenColumnName: {type: String, default: 'children'},\n      columns: Array,\n      components: Object,\n      dataSource: Array,\n      defaultExpandAllRows: Array[String],\n      expandedRowKeys: Array[String],\n      expandedRowRender: Function,\n      expandIcon: Function,\n      expandRowByClick: Boolean,\n      expandIconColumnIndex: Number,\n      footer: Function,\n      indentSize: Number,\n      loading: Boolean,\n      locale: Object,\n      pagination: [Object, Boolean],\n      rowClassName: Function,\n      rowKey: [String, Function],\n      rowSelection: Object,\n      scroll: Object,\n      showHeader: {type: Boolean, default: true},\n      size: String,\n      title: String,\n      customHeaderRow: Function,\n      customRow: Function,\n      getPopupContainer: Function,\n      transformCellText: Function,\n      formatConditions: Boolean\n    },\n    provide() {\n      return {\n        table: this\n      }\n    },\n    data() {\n      return {\n        id: `${new Date().getTime()}-${Math.floor(Math.random() * 10)}`,\n        sSize: this.size || 'default',\n        fullScreen: false,\n        conditions: {}\n      }\n    },\n    computed: {\n      slots() {\n        return Object.keys(this.$slots).filter(slot => slot !== 'title')\n      },\n      scopedSlots() {\n        return Object.keys(this.$scopedSlots).filter(slot => slot !== 'expandedRowRender' && slot !== 'title')\n      },\n      visibleColumns(){\n        return this.columns.filter(col => col.visible)\n      }\n    },\n    created() {\n      this.addListener()\n    },\n    beforeDestroy() {\n      this.removeListener()\n    },\n    methods: {\n      refresh() {\n        this.$emit('refresh', this.conditions)\n      },\n      onSearchChange(conditions, searchOptions) {\n        this.conditions = conditions\n        this.$emit('search', conditions, searchOptions)\n      },\n      toggleScreen() {\n        if (this.fullScreen) {\n          this.outFullScreen()\n        } else {\n          this.inFullScreen()\n        }\n      },\n      inFullScreen() {\n        const el = this.$refs.table\n        el.classList.add('beauty-scroll')\n        if (el.requestFullscreen) {\n          el.requestFullscreen()\n          return true\n        } else if (el.webkitRequestFullScreen) {\n          el.webkitRequestFullScreen()\n          return true\n        } else if (el.mozRequestFullScreen) {\n          el.mozRequestFullScreen()\n          return true\n        } else if (el.msRequestFullscreen) {\n          el.msRequestFullscreen()\n          return true\n        }\n        this.$message.warn('对不起，您的浏览器不支持全屏模式')\n        el.classList.remove('beauty-scroll')\n        return false\n      },\n      outFullScreen() {\n        if (document.exitFullscreen) {\n          document.exitFullscreen()\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen()\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen()\n        }\n        this.$refs.table.classList.remove('beauty-scroll')\n      },\n      onColumnsReset(conditions) {\n        this.$emit('reset', conditions)\n      },\n      onExpandedRowsChange(expandedRows) {\n        this.$emit('expandedRowsChange', expandedRows)\n      },\n      onChange(pagination, filters, sorter, options) {\n        this.$emit('change', pagination, filters, sorter, options)\n      },\n      onExpand(expanded, record) {\n        this.$emit('expand', expanded, record)\n      },\n      addListener() {\n        document.addEventListener('fullscreenchange', this.fullScreenListener)\n        document.addEventListener('webkitfullscreenchange', this.fullScreenListener)\n        document.addEventListener('mozfullscreenchange', this.fullScreenListener)\n        document.addEventListener('msfullscreenchange', this.fullScreenListener)\n      },\n      removeListener() {\n        document.removeEventListener('fullscreenchange', this.fullScreenListener)\n        document.removeEventListener('webkitfullscreenchange', this.fullScreenListener)\n        document.removeEventListener('mozfullscreenchange', this.fullScreenListener)\n        document.removeEventListener('msfullscreenchange', this.fullScreenListener)\n      },\n      fullScreenListener(e) {\n        if (e.target.id === this.id) {\n          this.fullScreen = !this.fullScreen\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n.advanced-table{\n  overflow-y: auto;\n  background-color: @component-background;\n  .header-bar{\n    padding: 16px 24px;\n    display: flex;\n    align-items: center;\n    border-radius: 4px;\n    transition: all 0.3s;\n    &.middle{\n      padding: 12px 16px;\n    }\n    &.small{\n      padding: 8px 12px;\n      border: 1px solid @border-color;\n      border-bottom: 0;\n      .title{\n        font-size: 16px;\n      }\n    }\n    .title{\n      transition: all 0.3s;\n      font-size: 18px;\n      color: @title-color;\n      font-weight: 700;\n    }\n    .search{\n      flex: 1;\n      text-align: right;\n      margin: 0 24px;\n    }\n    .actions{\n      text-align: right;\n      font-size: 17px;\n      color: @text-color;\n      .action{\n        margin: 0 8px;\n        cursor: pointer;\n        &:hover{\n          color: @primary-color;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}