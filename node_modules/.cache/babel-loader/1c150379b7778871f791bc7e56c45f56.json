{"remainingRequest":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\AdminLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\src\\layouts\\AdminLayout.vue","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\babel.config.js","mtime":1637637094000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\maxzh\\OneDrive\\桌面\\vue-antd-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL21heHpoL09uZURyaXZlL1x1Njg0Q1x1OTc2Mi92dWUtYW50ZC1hZG1pbi1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9tYXh6aC9PbmVEcml2ZS9cdTY4NENcdTk3NjIvdnVlLWFudGQtYWRtaW4tbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFkbWluSGVhZGVyIGZyb20gJy4vaGVhZGVyL0FkbWluSGVhZGVyJzsKaW1wb3J0IFBhZ2VGb290ZXIgZnJvbSAnLi9mb290ZXIvUGFnZUZvb3Rlcic7CmltcG9ydCBEcmF3ZXIgZnJvbSAnLi4vY29tcG9uZW50cy90b29sL0RyYXdlcic7CmltcG9ydCBTaWRlTWVudSBmcm9tICcuLi9jb21wb25lbnRzL21lbnUvU2lkZU1lbnUnOwppbXBvcnQgU2V0dGluZyBmcm9tICcuLi9jb21wb25lbnRzL3NldHRpbmcvU2V0dGluZyc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsgLy8gY29uc3QgbWluSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gNjQgLSAxMjIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRtaW5MYXlvdXQnLAogIGNvbXBvbmVudHM6IHsKICAgIFNldHRpbmc6IFNldHRpbmcsCiAgICBTaWRlTWVudTogU2lkZU1lbnUsCiAgICBEcmF3ZXI6IERyYXdlciwKICAgIFBhZ2VGb290ZXI6IFBhZ2VGb290ZXIsCiAgICBBZG1pbkhlYWRlcjogQWRtaW5IZWFkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtaW5IZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDY0IC0gMTIyLAogICAgICBjb2xsYXBzZWQ6IGZhbHNlLAogICAgICBzaG93U2V0dGluZzogZmFsc2UsCiAgICAgIGRyYXdlck9wZW46IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluTGF5b3V0OiB0aGlzCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHZhbCkgewogICAgICB0aGlzLnNldEFjdGl2YXRlZCh2YWwpOwogICAgfSwKICAgIGxheW91dDogZnVuY3Rpb24gbGF5b3V0KCkgewogICAgICB0aGlzLnNldEFjdGl2YXRlZCh0aGlzLiRyb3V0ZSk7CiAgICB9LAogICAgaXNNb2JpbGU6IGZ1bmN0aW9uIGlzTW9iaWxlKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuZHJhd2VyT3BlbiA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdzZXR0aW5nJywgWydpc01vYmlsZScsICd0aGVtZScsICdsYXlvdXQnLCAnZm9vdGVyTGlua3MnLCAnY29weXJpZ2h0JywgJ2ZpeGVkSGVhZGVyJywgJ2ZpeGVkU2lkZUJhcicsICdmaXhlZFRhYnMnLCAnaGlkZVNldHRpbmcnLCAnbXVsdGlQYWdlJ10pKSwgbWFwR2V0dGVycygnc2V0dGluZycsIFsnZmlyc3RNZW51JywgJ3N1Yk1lbnUnLCAnbWVudURhdGEnXSkpLCB7fSwgewogICAgc2lkZU1lbnVXaWR0aDogZnVuY3Rpb24gc2lkZU1lbnVXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2VkID8gJzgwcHgnIDogJzI1NnB4JzsKICAgIH0sCiAgICBoZWFkZXJTdHlsZTogZnVuY3Rpb24gaGVhZGVyU3R5bGUoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMuZml4ZWRIZWFkZXIgJiYgdGhpcy5sYXlvdXQgIT09ICdoZWFkJyAmJiAhdGhpcy5pc01vYmlsZSA/ICJjYWxjKDEwMCUgLSAiLmNvbmNhdCh0aGlzLnNpZGVNZW51V2lkdGgsICIpIikgOiAnMTAwJSc7CiAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZml4ZWRIZWFkZXIgPyAnZml4ZWQnIDogJ3N0YXRpYyc7CiAgICAgIHJldHVybiAid2lkdGg6ICIuY29uY2F0KHdpZHRoLCAiOyBwb3NpdGlvbjogIikuY29uY2F0KHBvc2l0aW9uLCAiOyIpOwogICAgfSwKICAgIGhlYWRNZW51RGF0YTogZnVuY3Rpb24gaGVhZE1lbnVEYXRhKCkgewogICAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQsCiAgICAgICAgICBtZW51RGF0YSA9IHRoaXMubWVudURhdGEsCiAgICAgICAgICBmaXJzdE1lbnUgPSB0aGlzLmZpcnN0TWVudTsKICAgICAgcmV0dXJuIGxheW91dCA9PT0gJ21peCcgPyBmaXJzdE1lbnUgOiBtZW51RGF0YTsKICAgIH0sCiAgICBzaWRlTWVudURhdGE6IGZ1bmN0aW9uIHNpZGVNZW51RGF0YSgpIHsKICAgICAgdmFyIGxheW91dCA9IHRoaXMubGF5b3V0LAogICAgICAgICAgbWVudURhdGEgPSB0aGlzLm1lbnVEYXRhLAogICAgICAgICAgc3ViTWVudSA9IHRoaXMuc3ViTWVudTsKICAgICAgcmV0dXJuIGxheW91dCA9PT0gJ21peCcgPyBzdWJNZW51IDogbWVudURhdGE7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoJ3NldHRpbmcnLCBbJ2NvcnJlY3RQYWdlTWluSGVpZ2h0JywgJ3NldEFjdGl2YXRlZEZpcnN0J10pKSwge30sIHsKICAgIHRvZ2dsZUNvbGxhcHNlOiBmdW5jdGlvbiB0b2dnbGVDb2xsYXBzZSgpIHsKICAgICAgdGhpcy5jb2xsYXBzZWQgPSAhdGhpcy5jb2xsYXBzZWQ7CiAgICB9LAogICAgb25NZW51U2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVTZWxlY3QoKSB7CiAgICAgIHRoaXMudG9nZ2xlQ29sbGFwc2UoKTsKICAgIH0sCiAgICBzZXRBY3RpdmF0ZWQ6IGZ1bmN0aW9uIHNldEFjdGl2YXRlZChyb3V0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubGF5b3V0ID09PSAnbWl4JykgewogICAgICAgIHZhciBtYXRjaGVkID0gcm91dGUubWF0Y2hlZDsKICAgICAgICBtYXRjaGVkID0gbWF0Y2hlZC5zbGljZSgwLCBtYXRjaGVkLmxlbmd0aCAtIDEpOwogICAgICAgIHZhciBmaXJzdE1lbnUgPSB0aGlzLmZpcnN0TWVudTsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZpcnN0TWVudSksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgIHZhciBtZW51ID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBpZiAobWF0Y2hlZC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSBtZW51LmZ1bGxQYXRoOwogICAgICAgICAgICB9KSAhPT0gLTEpIHsKICAgICAgICAgICAgICBfdGhpcy5zZXRBY3RpdmF0ZWRGaXJzdChtZW51LmZ1bGxQYXRoKTsKCiAgICAgICAgICAgICAgcmV0dXJuICJicmVhayI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcCgpOwoKICAgICAgICAgICAgaWYgKF9yZXQgPT09ICJicmVhayIpIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jb3JyZWN0UGFnZU1pbkhlaWdodCh0aGlzLm1pbkhlaWdodCAtIDI0KTsKICAgIHRoaXMuc2V0QWN0aXZhdGVkKHRoaXMuJHJvdXRlKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNvcnJlY3RQYWdlTWluSGVpZ2h0KC10aGlzLm1pbkhlaWdodCArIDI0KTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA,0D,CAEA;;AAEA;AACAA,qBADA;AAEAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,8CADA;AAEAC,sBAFA;AAGAC,wBAHA;AAIAC;AAJA;AAMA,GAVA;AAWAC,SAXA,qBAWA;AACA;AACAC;AADA;AAGA,GAfA;AAgBAC;AACAC,UADA,kBACAC,GADA,EACA;AACA;AACA,KAHA;AAIAC,UAJA,oBAIA;AACA;AACA,KANA;AAOAC,YAPA,oBAOAF,GAPA,EAOA;AACA;AACA;AACA;AACA;AAXA,GAhBA;AA6BAG,0DACAC,+GACA,WADA,EACA,aADA,EACA,WADA,EADA,GAGAC,2DAHA;AAIAC,iBAJA,2BAIA;AACA;AACA,KANA;AAOAC,eAPA,yBAOA;AACA;AACA;AACA;AACA,KAXA;AAYAC,gBAZA,0BAYA;AACA;AAAA;AAAA;AACA;AACA,KAfA;AAgBAC,gBAhBA,0BAgBA;AACA;AAAA;AAAA;AACA;AACA;AAnBA,IA7BA;AAkDAC,2CACAC,sEADA;AAEAC,kBAFA,4BAEA;AACA;AACA,KAJA;AAKAC,gBALA,0BAKA;AACA;AACA,KAPA;AAQAC,gBARA,wBAQAC,KARA,EAQA;AAAA;;AACA;AACA;AACAC;AACA;;AAHA,mDAIAC,SAJA;AAAA;;AAAA;AAAA;AAAA,gBAIAC,IAJA;;AAKA;AAAA;AAAA;AACA;;AACA;AACA;AARA;;AAIA;AAAA;;AAAA,kCAGA;AAEA;AATA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AApBA,IAlDA;AAwEAC,SAxEA,qBAwEA;AACA;AACA;AACA,GA3EA;AA4EAC,eA5EA,2BA4EA;AACA;AACA;AA9EA","names":["name","components","Setting","SideMenu","Drawer","PageFooter","AdminHeader","data","minHeight","collapsed","showSetting","drawerOpen","provide","adminLayout","watch","$route","val","layout","isMobile","computed","mapState","mapGetters","sideMenuWidth","headerStyle","headMenuData","sideMenuData","methods","mapMutations","toggleCollapse","onMenuSelect","setActivated","route","matched","firstMenu","menu","created","beforeDestroy"],"sourceRoot":"src/layouts","sources":["AdminLayout.vue"],"sourcesContent":["<template>\n  <a-layout :class=\"['admin-layout', 'beauty-scroll']\">\n    <drawer v-if=\"isMobile\" v-model=\"drawerOpen\">\n      <side-menu :theme=\"theme.mode\" :menuData=\"menuData\" :collapsed=\"false\" :collapsible=\"false\" @menuSelect=\"onMenuSelect\"/>\n    </drawer>\n    <side-menu :class=\"[fixedSideBar ? 'fixed-side' : '']\" :theme=\"theme.mode\" v-else-if=\"layout === 'side' || layout === 'mix'\" :menuData=\"sideMenuData\" :collapsed=\"collapsed\" :collapsible=\"true\" />\n    <div v-if=\"fixedSideBar && !isMobile\" :style=\"`width: ${sideMenuWidth}; min-width: ${sideMenuWidth};max-width: ${sideMenuWidth};`\" class=\"virtual-side\"></div>\n    <drawer v-if=\"!hideSetting\" v-model=\"showSetting\" placement=\"right\">\n      <div class=\"setting\" slot=\"handler\">\n        <a-icon :type=\"showSetting ? 'close' : 'setting'\"/>\n      </div>\n      <setting />\n    </drawer>\n    <a-layout class=\"admin-layout-main beauty-scroll\">\n      <admin-header :class=\"[{'fixed-tabs': fixedTabs, 'fixed-header': fixedHeader, 'multi-page': multiPage}]\" :style=\"headerStyle\" :menuData=\"headMenuData\" :collapsed=\"collapsed\" @toggleCollapse=\"toggleCollapse\"/>\n      <a-layout-header :class=\"['virtual-header', {'fixed-tabs' : fixedTabs, 'fixed-header': fixedHeader, 'multi-page': multiPage}]\" v-show=\"fixedHeader\"></a-layout-header>\n      <a-layout-content class=\"admin-layout-content\" :style=\"`min-height: ${minHeight}px;`\">\n        <div style=\"position: relative\">\n          <slot></slot>\n        </div>\n      </a-layout-content>\n      <a-layout-footer style=\"padding: 0px\">\n        <page-footer :link-list=\"footerLinks\" :copyright=\"copyright\" />\n      </a-layout-footer>\n    </a-layout>\n  </a-layout>\n</template>\n\n<script>\nimport AdminHeader from './header/AdminHeader'\nimport PageFooter from './footer/PageFooter'\nimport Drawer from '../components/tool/Drawer'\nimport SideMenu from '../components/menu/SideMenu'\nimport Setting from '../components/setting/Setting'\nimport {mapState, mapMutations, mapGetters} from 'vuex'\n\n// const minHeight = window.innerHeight - 64 - 122\n\nexport default {\n  name: 'AdminLayout',\n  components: {Setting, SideMenu, Drawer, PageFooter, AdminHeader},\n  data () {\n    return {\n      minHeight: window.innerHeight - 64 - 122,\n      collapsed: false,\n      showSetting: false,\n      drawerOpen: false\n    }\n  },\n  provide() {\n    return {\n      adminLayout: this\n    }\n  },\n  watch: {\n    $route(val) {\n      this.setActivated(val)\n    },\n    layout() {\n      this.setActivated(this.$route)\n    },\n    isMobile(val) {\n      if(!val) {\n        this.drawerOpen = false\n      }\n    }\n  },\n  computed: {\n    ...mapState('setting', ['isMobile', 'theme', 'layout', 'footerLinks', 'copyright', 'fixedHeader', 'fixedSideBar',\n      'fixedTabs', 'hideSetting', 'multiPage']),\n    ...mapGetters('setting', ['firstMenu', 'subMenu', 'menuData']),\n    sideMenuWidth() {\n      return this.collapsed ? '80px' : '256px'\n    },\n    headerStyle() {\n      let width = (this.fixedHeader && this.layout !== 'head' && !this.isMobile) ? `calc(100% - ${this.sideMenuWidth})` : '100%'\n      let position = this.fixedHeader ? 'fixed' : 'static'\n      return `width: ${width}; position: ${position};`\n    },\n    headMenuData() {\n      const {layout, menuData, firstMenu} = this\n      return layout === 'mix' ? firstMenu : menuData\n    },\n    sideMenuData() {\n      const {layout, menuData, subMenu} = this\n      return layout === 'mix' ? subMenu : menuData\n    }\n  },\n  methods: {\n    ...mapMutations('setting', ['correctPageMinHeight', 'setActivatedFirst']),\n    toggleCollapse () {\n      this.collapsed = !this.collapsed\n    },\n    onMenuSelect () {\n      this.toggleCollapse()\n    },\n    setActivated(route) {\n      if (this.layout === 'mix') {\n        let matched = route.matched\n        matched = matched.slice(0, matched.length - 1)\n        const {firstMenu} = this\n        for (let menu of firstMenu) {\n          if (matched.findIndex(item => item.path === menu.fullPath) !== -1) {\n            this.setActivatedFirst(menu.fullPath)\n            break\n          }\n        }\n      }\n    }\n  },\n  created() {\n    this.correctPageMinHeight(this.minHeight - 24)\n    this.setActivated(this.$route)\n  },\n  beforeDestroy() {\n    this.correctPageMinHeight(-this.minHeight + 24)\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .admin-layout{\n    .side-menu{\n      &.fixed-side{\n        position: fixed;\n        height: 100vh;\n        left: 0;\n        top: 0;\n      }\n    }\n    .virtual-side{\n      transition: all 0.2s;\n    }\n    .virtual-header{\n      transition: all 0.2s;\n      opacity: 0;\n      &.fixed-tabs.multi-page:not(.fixed-header){\n        height: 0;\n      }\n    }\n    .admin-layout-main{\n      .admin-header{\n        top: 0;\n        right: 0;\n        overflow: hidden;\n        transition: all 0.2s;\n        &.fixed-tabs.multi-page:not(.fixed-header){\n          height: 0;\n        }\n      }\n    }\n    .admin-layout-content{\n      padding: 24px 24px 0;\n      /*overflow-x: hidden;*/\n      /*min-height: calc(100vh - 64px - 122px);*/\n    }\n    .setting{\n      background-color: @primary-color;\n      color: @base-bg-color;\n      border-radius: 5px 0 0 5px;\n      line-height: 40px;\n      font-size: 22px;\n      width: 40px;\n      height: 40px;\n      box-shadow: -2px 0 8px @shadow-color;\n    }\n  }\n</style>\n"]}]}